<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>claude v3Á∑öÊÄßË¶èÂäÉÂñÆÂΩ¢Ê≥ïÂèØË¶ñÂåñÂ∑•ÂÖ∑ - ÈÄ≤ÈöéÁâà</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --success: #2ecc71;
            --warning: #f39c12;
            --light: #ecf0f1;
            --dark: #34495e;
            --purple: #9b59b6;
            --orange: #e67e22;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--light);
            padding: 20px;
            min-height: 100vh;
            overflow-x: auto;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 30px 20px;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #fff, #a8e6cf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: none;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            line-height: 1.6;
            max-width: 900px;
            margin: 0 auto;
        }
        
        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 1000px) {
            .content {
                grid-template-columns: 1fr;
            }
        }
        
        .panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .panel:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
        }
        
        .panel-title {
            font-size: 1.6rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary);
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .icon {
            font-size: 1.5rem;
        }
        
        .problem-input {
            display: grid;
            gap: 20px;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        label {
            font-weight: 600;
            color: var(--light);
            font-size: 1rem;
        }
        
        input, select, textarea {
            padding: 14px;
            border-radius: 12px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            background: rgba(0, 0, 0, 0.2);
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 20px rgba(52, 152, 219, 0.3);
            transform: translateY(-2px);
        }
        
        button {
            background: linear-gradient(45deg, var(--secondary), var(--purple));
            color: white;
            border: none;
            padding: 16px 24px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-top: 10px;
            position: relative;
            overflow: hidden;
        }
        
        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        button:hover::before {
            left: 100%;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        button:disabled {
            background: linear-gradient(45deg, #7f8c8d, #95a5a6);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .controls button {
            flex: 1;
        }
        
        .btn-reset {
            background: linear-gradient(45deg, var(--accent), #c0392b);
        }
        
        .btn-next {
            background: linear-gradient(45deg, var(--success), #27ae60);
        }
        
        .btn-prev {
            background: linear-gradient(45deg, var(--warning), #d68910);
        }
        
        .result-panel {
            grid-column: 1 / -1;
        }
        
        .tableau-container {
            overflow-x: auto;
            margin-top: 20px;
            border-radius: 15px;
            background: rgba(0, 0, 0, 0.1);
            padding: 15px;
        }
        
        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        th {
            background: linear-gradient(45deg, var(--dark), var(--primary));
            padding: 16px 12px;
            text-align: center;
            font-weight: 700;
            color: white;
            font-size: 0.9rem;
        }
        
        td {
            padding: 12px 10px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        tr:hover td {
            background-color: rgba(255, 255, 255, 0.05);
        }
        
        tr:last-child td {
            border-bottom: none;
        }
        
        .pivot {
            background: linear-gradient(45deg, rgba(231, 76, 60, 0.7), rgba(192, 57, 43, 0.7));
            font-weight: bold;
            position: relative;
            animation: pulse 2s infinite;
        }
        
        .pivot::after {
            content: "üéØ Ê®ûËª∏";
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--accent);
            color: white;
            font-size: 0.7rem;
            padding: 2px 6px;
            border-radius: 6px;
            white-space: nowrap;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(231, 76, 60, 0); }
            100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0); }
        }
        
        .basis {
            background: linear-gradient(45deg, rgba(46, 204, 113, 0.3), rgba(39, 174, 96, 0.3));
        }
        
        .entering {
            background: linear-gradient(45deg, rgba(52, 152, 219, 0.3), rgba(41, 128, 185, 0.3));
        }
        
        .solution-box {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }
        
        .solution-card {
            background: linear-gradient(145deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.1));
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .solution-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .solution-card h3 {
            margin-bottom: 15px;
            color: var(--light);
            font-size: 1.2rem;
        }
        
        .solution-value {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(45deg, var(--success), #2ecc71);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .variables {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-top: 15px;
        }
        
        .variable {
            background: linear-gradient(45deg, rgba(52, 152, 219, 0.3), rgba(41, 128, 185, 0.3));
            padding: 10px 18px;
            border-radius: 25px;
            font-weight: 600;
            border: 1px solid rgba(52, 152, 219, 0.5);
        }
        
        .step-info {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(145deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.1));
            border-radius: 15px;
            line-height: 1.7;
            border-left: 4px solid var(--secondary);
        }
        
        .step-title {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), var(--success));
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        .case-description {
            background: linear-gradient(145deg, rgba(52, 152, 219, 0.1), rgba(41, 128, 185, 0.1));
            border: 2px solid rgba(52, 152, 219, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            line-height: 1.7;
        }
        
        .case-description h3 {
            color: var(--secondary);
            margin-bottom: 15px;
            margin-top: 25px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .case-description h3:first-child {
            margin-top: 0;
        }
        
        .case-description ul {
            margin: 15px 0;
            padding-left: 30px;
        }
        
        .case-description li {
            margin-bottom: 10px;
        }
        
        .instructions {
            margin-top: 30px;
            padding: 30px;
            background: linear-gradient(145deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.1));
            border-radius: 20px;
            line-height: 1.8;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .instructions h2 {
            margin-bottom: 20px;
            color: white;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .instructions ul {
            padding-left: 30px;
            margin-top: 15px;
        }
        
        .instructions li {
            margin-bottom: 15px;
        }
        
        .instructions code {
            background: rgba(0, 0, 0, 0.4);
            padding: 4px 8px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            color: var(--warning);
            font-weight: 600;
        }
        
        .highlight {
            color: var(--success);
            font-weight: bold;
        }
        
        .legend {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .legend-color {
            width: 24px;
            height: 24px;
            border-radius: 6px;
        }
        
        .legend-pivot {
            background: linear-gradient(45deg, rgba(231, 76, 60, 0.7), rgba(192, 57, 43, 0.7));
        }
        
        .legend-basis {
            background: linear-gradient(45deg, rgba(46, 204, 113, 0.3), rgba(39, 174, 96, 0.3));
        }
        
        .legend-entering {
            background: linear-gradient(45deg, rgba(52, 152, 219, 0.3), rgba(41, 128, 185, 0.3));
        }

        .error-message {
            background: linear-gradient(45deg, rgba(231, 76, 60, 0.2), rgba(192, 57, 43, 0.2));
            border: 2px solid var(--accent);
            border-radius: 12px;
            padding: 18px;
            margin: 15px 0;
            color: white;
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            line-height: 1.6;
        }

        .algorithm-info {
            background: linear-gradient(145deg, rgba(155, 89, 182, 0.1), rgba(142, 68, 173, 0.1));
            border: 2px solid rgba(155, 89, 182, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            line-height: 1.7;
        }

        .algorithm-info h3 {
            color: var(--purple);
            margin-bottom: 15px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .step-counter {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .counter {
            background: var(--secondary);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéØ Á∑öÊÄßË¶èÂäÉÂñÆÂΩ¢Ê≥ïÂèØË¶ñÂåñËß£Ê±∫ÊñπÊ°à</h1>
            <p class="subtitle">
                Ê≠§Â∑•ÂÖ∑Êé°Áî®ÂñÆÂΩ¢Ê≥ï (Simplex Method) Ê±ÇËß£Á∑öÊÄßË¶èÂäÉÂïèÈ°åÔºå‰∏¶Êèê‰æõÂÆåÊï¥ÁöÑË®àÁÆóÈÅéÁ®ãÂèØË¶ñÂåñ„ÄÇ
                ÈÅ©Áî®ÊñºÁîüÁî¢Ë¶èÂäÉ„ÄÅË≥áÊ∫êÂàÜÈÖç„ÄÅÂà©ÊΩ§ÊúÄÂ§ßÂåñÁ≠âÂØ¶ÈöõÂïÜÊ•≠ÂïèÈ°åÁöÑÊ±ÇËß£ËàáÊïôÂ≠∏„ÄÇ
            </p>
        </header>
        
        <div class="content">
            <div class="panel">
                <h2 class="panel-title">
                    <span class="icon">üìä</span>
                    ÂïèÈ°åËº∏ÂÖ•
                </h2>
                <div class="problem-input">
                    <div class="input-group">
                        <label for="objective">üéØ ÁõÆÊ®ôÂáΩÊï∏È°ûÂûã</label>
                        <select id="objective">
                            <option value="max">ÊúÄÂ§ßÂåñ (Maximize)</option>
                            <option value="min">ÊúÄÂ∞èÂåñ (Minimize)</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="function">üí∞ ÁõÆÊ®ôÂáΩÊï∏‰øÇÊï∏ (Áî®ÈÄóËôüÂàÜÈöîÔºå‰æãÂ¶Ç: 800,1200)</label>
                        <input type="text" id="function" value="800,1200" placeholder="‰æãÂ¶Ç: 800,1200">
                    </div>
                    
                    <div class="input-group">
                        <label for="constraints">‚öñÔ∏è Á¥ÑÊùüÊ¢ù‰ª∂ (ÊØèË°å‰∏ÄÂÄãÁ¥ÑÊùüÔºåÊ†ºÂºè: ‰øÇÊï∏1,‰øÇÊï∏2,ÈÅãÁÆóÁ¨¶,Â∏∏Êï∏)</label>
                        <textarea id="constraints" rows="6">4,6,<=,2400
2,2,<=,800
1,3,<=,900
1,0,<=,300
0,1,<=,250</textarea>
                    </div>
                    
                    <button id="solve-btn">üöÄ Ê±ÇËß£ÂïèÈ°å</button>
                </div>
            </div>
            
            <div class="panel">
                <h2 class="panel-title">
                    <span class="icon">üéÆ</span>
                    Ë®àÁÆóÊéßÂà∂
                </h2>
                
                <div class="step-counter">
                    <span>Áï∂ÂâçÊ≠•È©üÔºö</span>
                    <span class="counter" id="step-counter">0 / 0</span>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                </div>
                
                <div class="controls">
                    <button id="prev-btn" class="btn-prev" disabled>‚¨ÖÔ∏è ‰∏ä‰∏ÄÊ≠•</button>
                    <button id="next-btn" class="btn-next" disabled>‰∏ã‰∏ÄÊ≠• ‚û°Ô∏è</button>
                    <button id="reset-btn" class="btn-reset">üîÑ ÈáçÁΩÆ</button>
                </div>
                
                <div class="step-info">
                    <h3 class="step-title">
                        <span>üìù</span>
                        Ê≠•È©üË™™Êòé
                    </h3>
                    <p id="step-description">ÈªûÊìä"Ê±ÇËß£"ÊåâÈàïÈñãÂßãË®àÁÆó„ÄÇÊ±ÇËß£ÂÆåÊàêÂæåÔºå‰ΩøÁî®"‰∏ã‰∏ÄÊ≠•"ÊåâÈàïÊü•ÁúãÂñÆÂΩ¢Ê≥ïÁöÑÊØè‰∏ÄÊ≠•ÈÅãÁÆóÈÅéÁ®ã„ÄÇ</p>
                </div>
                
                <div class="solution-box">
                    <div class="solution-card">
                        <h3>üè≠ ÊúÄÂÑ™Ëß£ (ÁîüÁî¢Êï∏Èáè)</h3>
                        <div class="variables" id="solution-variables">
                            <div class="variable">5nmÊô∂Áâá = <span id="x1">0</span> Áâá</div>
                            <div class="variable">3nmÊô∂Áâá = <span id="x2">0</span> Áâá</div>
                        </div>
                    </div>
                    
                    <div class="solution-card">
                        <h3>üí∞ ÊúÄÂ§ßÂà©ÊΩ§</h3>
                        <div class="solution-value" id="optimal-value">0</div>
                        <div style="font-size: 0.9rem; margin-top: 8px; opacity: 0.8;">Ëê¨Âè∞Âπ£</div>
                    </div>
                </div>
            </div>
            
            <div class="panel result-panel">
                <h2 class="panel-title">
                    <span class="icon">üìã</span>
                    ÂñÆÂΩ¢Ë°®Ë®àÁÆóÈÅéÁ®ã
                </h2>
                
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color legend-pivot"></div>
                        <span>Ê®ûËª∏ÂÖÉÁ¥† (Pivot Element)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color legend-basis"></div>
                        <span>Âü∫ËÆäÈáè (Basic Variables)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color legend-entering"></div>
                        <span>ÈÄ≤ÂÖ•ËÆäÈáè (Entering Variable)</span>
                    </div>
                </div>
                
                <div class="tableau-container" id="tableau-container">
                    <p class="step-info">Ëº∏ÂÖ•ÂïèÈ°å‰∏¶ÈªûÊìä"Ê±ÇËß£"ÊåâÈàïÂæåÔºåÈÄôË£°Â∞áÈ°ØÁ§∫Ë®àÁÆóÈÅéÁ®ã„ÄÇ</p>
                </div>
            </div>
        </div>
        
        <div class="case-description">
            <h3>üè¢ ÂØ¶ÈöõÊ°à‰æãÔºöÂè∞Á©çÈõªÊô∂ÁâáÁîüÁî¢Ë¶èÂäÉ</h3>
            <p>
                Êú¨Â∑•ÂÖ∑‰ª•Âè∞Á©çÈõªÊô∂ÁâáÁîüÁî¢ÁÇ∫‰æãÔºåÂ±ïÁ§∫Á∑öÊÄßË¶èÂäÉÂú®ÂØ¶ÈöõË£ΩÈÄ†Ê•≠‰∏≠ÁöÑÊáâÁî®„ÄÇ
                ÂÅáË®≠Âè∞Á©çÈõªÈúÄË¶ÅÊ±∫ÂÆö5nmÂíå3nmÊô∂ÁâáÁöÑÊúÄÂÑ™ÁîüÁî¢ÈÖçÁΩÆÔºå‰ª•ÊúÄÂ§ßÂåñÂà©ÊΩ§„ÄÇ
            </p>
            
            <h3>üìä ÂïèÈ°åË®≠ÂÆö</h3>
            <ul>
                <li><strong>Ê±∫Á≠ñËÆäÈáèÔºö</strong>x‚ÇÅ = 5nmÊô∂ÁâáÁîüÁî¢Êï∏ÈáèÔºåx‚ÇÇ = 3nmÊô∂ÁâáÁîüÁî¢Êï∏Èáè</li>
                <li><strong>ÁõÆÊ®ôÂáΩÊï∏Ôºö</strong>ÊúÄÂ§ßÂåñÂà©ÊΩ§ = 800x‚ÇÅ + 1200x‚ÇÇ (Ëê¨Âè∞Âπ£)</li>
                <li><strong>Á¥ÑÊùüÊ¢ù‰ª∂Ôºö</strong>
                    <ul>
                        <li>Ë®≠ÂÇôÊôÇÈñìÈôêÂà∂Ôºö4x‚ÇÅ + 6x‚ÇÇ ‚â§ 2400 (Â∞èÊôÇ)</li>
                        <li>ÂéüÊñôÈôêÂà∂Ôºö2x‚ÇÅ + 2x‚ÇÇ ‚â§ 800 (ÂñÆ‰Ωç)</li>
                        <li>ÊäÄË°ì‰∫∫Âì°ÈôêÂà∂Ôºöx‚ÇÅ + 3x‚ÇÇ ‚â§ 900 (‰∫∫ÊôÇ)</li>
                        <li>5nmÁî¢ËÉΩ‰∏äÈôêÔºöx‚ÇÅ ‚â§ 300 (Áâá)</li>
                        <li>3nmÁî¢ËÉΩ‰∏äÈôêÔºöx‚ÇÇ ‚â§ 250 (Áâá)</li>
                    </ul>
                </li>
            </ul>
            
            <h3>üéØ Â≠∏ÁøíÁõÆÊ®ô</h3>
            <ul>
                <li>ÁêÜËß£Á∑öÊÄßË¶èÂäÉÂïèÈ°åÁöÑÊ®ôÊ∫ñÂΩ¢ÂºèËΩâÊèõ</li>
                <li>ÊéåÊè°ÂñÆÂΩ¢Ê≥ïÁöÑË®àÁÆóÊ≠•È©üËàáÊ®ûËª∏ÈÅãÁÆó</li>
                <li>Â≠∏ÁøíÂ¶Ç‰ΩïËß£ËÆÄÂñÆÂΩ¢Ë°®‰∏≠ÁöÑÊï∏ÊìöÊÑèÁæ©</li>
                <li>‰∫ÜËß£Âü∫ËÆäÈáè„ÄÅÈùûÂü∫ËÆäÈáèÁöÑÊ¶ÇÂøµ</li>
                <li>ÊéåÊè°ÊúÄÂÑ™ÊÄßÊ™¢È©óËàáËß£ÁöÑÂà§ÂÆö</li>
            </ul>
        </div>
        
        <div class="algorithm-info">
            <h3>üßÆ ÂñÆÂΩ¢Ê≥ïÁÆóÊ≥ïË™™Êòé</h3>
            <p>
                ÂñÆÂΩ¢Ê≥ï (Simplex Method) ÊòØÊ±ÇËß£Á∑öÊÄßË¶èÂäÉÂïèÈ°åÊúÄÁ∂ìÂÖ∏ÁöÑÁÆóÊ≥ïÔºåÁî± George Dantzig Êñº1947Âπ¥ÊèêÂá∫„ÄÇ
                Ë©≤ÁÆóÊ≥ïÈÄöÈÅéÁ≥ªÁµ±ÊÄßÂú∞ÁßªÂãïÂà∞Áõ∏ÈÑ∞ÁöÑÂü∫ÂèØË°åËß£ÔºåÈÄêÊ≠•ÊîπÂñÑÁõÆÊ®ôÂáΩÊï∏ÂÄºÔºåÁõ¥Âà∞ÊâæÂà∞ÊúÄÂÑ™Ëß£„ÄÇ
            </p>
            <ul>
                <li><strong>Á¨¨‰∏ÄÊ≠•Ôºö</strong>Â∞áÂïèÈ°åËΩâÊèõÁÇ∫Ê®ôÊ∫ñÂΩ¢ÂºèÔºåÊ∑ªÂä†È¨ÜÂºõËÆäÊï∏</li>
                <li><strong>Á¨¨‰∫åÊ≠•Ôºö</strong>Âª∫Á´ãÂàùÂßãÂñÆÂΩ¢Ë°®ÔºåÊâæÂà∞ÂàùÂßãÂü∫ÂèØË°åËß£</li>
                <li><strong>Á¨¨‰∏âÊ≠•Ôºö</strong>Ê™¢Êü•ÊúÄÂÑ™ÊÄßÊ¢ù‰ª∂ÔºàÁõÆÊ®ôÂáΩÊï∏Ë°å‰øÇÊï∏Ôºâ</li>
                <li><strong>Á¨¨ÂõõÊ≠•Ôºö</strong>Ëã•Êú™ÈÅîÊúÄÂÑ™ÔºåÈÅ∏ÊìáÈÄ≤ÂÖ•ËÆäÊï∏ÂíåÈõ¢ÈñãËÆäÊï∏</li>
                <li><strong>Á¨¨‰∫îÊ≠•Ôºö</strong>Âü∑Ë°åÊ®ûËª∏ÈÅãÁÆóÔºåÊõ¥Êñ∞ÂñÆÂΩ¢Ë°®</li>
                <li><strong>ÈáçË§áÊ≠•È©ü3-5</strong>Áõ¥Âà∞ÈÅîÂà∞ÊúÄÂÑ™Ëß£</li>
            </ul>
        </div>
        
        <div class="instructions">
            <h2>üìñ Ë©≥Á¥∞‰ΩøÁî®Ë™™Êòé</h2>
            <ul>
                <li><span class="highlight">ÁõÆÊ®ôÂáΩÊï∏Ë®≠ÂÆö</span>ÔºöËº∏ÂÖ•ÁõÆÊ®ôÂáΩÊï∏ÁöÑ‰øÇÊï∏ÔºåÁî®ÈÄóËôüÂàÜÈöî„ÄÇ‰æãÂ¶ÇÊúÄÂ§ßÂåñÂà©ÊΩ§ z = 800x‚ÇÅ + 1200x‚ÇÇ ÊáâËº∏ÂÖ• <code>800,1200</code></li>
                <li><span class="highlight">Á¥ÑÊùüÊ¢ù‰ª∂Ê†ºÂºè</span>ÔºöÊØèË°åËº∏ÂÖ•‰∏ÄÂÄãÁ¥ÑÊùüÊ¢ù‰ª∂ÔºåÊ†ºÂºèÁÇ∫ <code>‰øÇÊï∏1,‰øÇÊï∏2,ÈÅãÁÆóÁ¨¶,Â∏∏Êï∏</code>„ÄÇ‰æãÂ¶Ç 4x‚ÇÅ + 6x‚ÇÇ ‚â§ 2400 ÊáâËº∏ÂÖ• <code>4,6,<=,2400</code></li>
                <li><span class="highlight">ÊîØÊåÅÈÅãÁÆóÁ¨¶</span>Ôºö<code>&lt;=</code> (Â∞èÊñºÁ≠âÊñº), <code>=</code> (Á≠âÊñº), <code>&gt;=</code> (Â§ßÊñºÁ≠âÊñº)</li>
                <li><span class="highlight">Ê±ÇËß£ÈÅéÁ®ã</span>ÔºöÈªûÊìä"Ê±ÇËß£"ÊåâÈàïÂæåÔºåÁ≥ªÁµ±Â∞áËá™ÂãïË®àÁÆó‰∏¶È°ØÁ§∫ÂàùÂßãÂñÆÂΩ¢Ë°®</li>
                <li><span class="highlight">ÈÄêÊ≠•ÊºîÁ§∫</span>Ôºö‰ΩøÁî®"‰∏ã‰∏ÄÊ≠•"ÊåâÈàïÊü•ÁúãÂñÆÂΩ¢Ê≥ïÁöÑÊØè‰∏ÄÊ≠•Ë®àÁÆóÈÅéÁ®ã</li>
                <li><span class="highlight">Ë¶ñË¶∫ÂåñÂÖÉÁ¥†</span>ÔºöË°®Ê†º‰∏≠‰∏çÂêåÈ°èËâ≤Ê®ôÁ§∫‰∏çÂêåÈ°ûÂûãÁöÑËÆäÊï∏ÂíåÊìç‰Ωú</li>
                <li><span class="highlight">ÈÄ≤Â∫¶ËøΩËπ§</span>ÔºöÈ†ÇÈÉ®ÈÄ≤Â∫¶Ê¢ùÈ°ØÁ§∫Áï∂ÂâçÊ±ÇËß£ÈÄ≤Â∫¶</li>
            </ul>
        </div>
        
        <footer>
            <p><strong>üéì Á∑öÊÄßË¶èÂäÉÂñÆÂΩ¢Ê≥ïÂèØË¶ñÂåñÊïôÂ≠∏Â∑•ÂÖ∑</strong></p>
            <p>
                Êú¨Â∑•ÂÖ∑Â∞àÁÇ∫Á∑öÊÄßË¶èÂäÉÊïôÂ≠∏Ë®≠Ë®àÔºåÂπ´Âä©Â≠∏ÁîüÁêÜËß£ÂñÆÂΩ¢Ê≥ïÁöÑË®àÁÆóÂéüÁêÜÂíåÂØ¶ÈöõÊáâÁî®„ÄÇ
                ÈÅ©Áî®ÊñºÈÅãÁ±åÂ≠∏„ÄÅÁÆ°ÁêÜÁßëÂ≠∏„ÄÅÂ∑•Ê•≠Â∑•Á®ãÁ≠âÁõ∏ÈóúË™≤Á®ãÁöÑÊïôÂ≠∏ËàáËá™Â≠∏„ÄÇ
            </p>
            <p style="margin-top: 15px;">
                <em>üí° ÊèêÁ§∫ÔºöÂª∫Ë≠∞ÈÖçÂêàÊïôÁßëÊõ∏ÂÖßÂÆπ‰ΩøÁî®ÔºåÊ∑±ÂÖ•ÁêÜËß£ÊØèÂÄãÊ≠•È©üÁöÑÊï∏Â≠∏ÂéüÁêÜ</em>
            </p>
        </footer>
    </div>

    <script>
        class SimplexSolver {
            constructor() {
                this.reset();
            }
            
            reset() {
                this.c = [];
                this.A = [];
                this.b = [];
                this.m = 0;
                this.n = 0;
                this.tableau = [];
                this.basis = [];
                this.history = [];
                this.currentStep = 0;
                this.solution = [];
                this.optimalValue = 0;
                this.objective = 'max';
                this.isUnbounded = false;
                this.iterationCount = 0;
            }
            
            // ÂàùÂßãÂåñÊ±ÇËß£Âô®
            init(c, A, b, objective) {
                this.c = [...c];
                this.A = A.map(row => [...row]);
                this.b = [...b];
                this.m = b.length;
                this.n = c.length;
                this.objective = objective;
                this.history = [];
                this.currentStep = 0;
                this.isUnbounded = false;
                this.iterationCount = 0;
                
                // Ê™¢È©óËº∏ÂÖ•ÊúâÊïàÊÄß
                if (!this.validateInput()) {
                    throw new Error("Ëº∏ÂÖ•Êï∏ÊìöÁÑ°Êïà");
                }
                
                // ÂàùÂßãÂåñÂñÆÂΩ¢Ë°®
                this.initializeTableau();
            }
            
            // È©óË≠âËº∏ÂÖ•
            validateInput() {
                if (this.n === 0 || this.m === 0) return false;
                if (this.A.some(row => row.length !== this.n)) return false;
                if (this.b.some(val => val < 0)) return false;
                return true;
            }
            
            // ÂàùÂßãÂåñÂñÆÂΩ¢Ë°®
            initializeTableau() {
                // ÂâµÂª∫ÂñÆÂΩ¢Ë°®ÔºömË°åÁ¥ÑÊùü + 1Ë°åÁõÆÊ®ôÂáΩÊï∏, nÂÄãÂéüËÆäÊï∏ + mÂÄãÈ¨ÜÂºõËÆäÊï∏ + 1ÂÄãËß£Âàó
                this.tableau = Array(this.m + 1).fill().map(() => Array(this.n + this.m + 1).fill(0));
                this.basis = Array(this.m).fill().map((_, i) => this.n + i);
                
                // Â°´ÂÖÖÁ¥ÑÊùü‰øÇÊï∏ÂíåÈ¨ÜÂºõËÆäÊï∏
                for (let i = 0; i < this.m; i++) {
                    // ÂéüÂßãËÆäÊï∏‰øÇÊï∏
                    for (let j = 0; j < this.n; j++) {
                        this.tableau[i][j] = this.A[i][j];
                    }
                    // È¨ÜÂºõËÆäÊï∏‰øÇÊï∏ (ÂñÆ‰ΩçÁü©Èô£)
                    this.tableau[i][this.n + i] = 1;
                    // Âè≥Á´ØÈ†Ö
                    this.tableau[i][this.n + this.m] = this.b[i];
                }
                
                // ÁõÆÊ®ôÂáΩÊï∏Ë°å
                for (let j = 0; j < this.n; j++) {
                    // Â∞çÊñºÊúÄÂ§ßÂåñÂïèÈ°åÔºåÁõÆÊ®ôÂáΩÊï∏‰øÇÊï∏ÂèñË≤†ÂÄº
                    this.tableau[this.m][j] = this.objective === 'max' ? -this.c[j] : this.c[j];
                }
                
                // Ë®òÈåÑÂàùÂßãÁãÄÊÖã
                this.recordStep("üöÄ ÂàùÂßãÂåñÂñÆÂΩ¢Ë°®", -1, -1, "Âª∫Á´ãÂàùÂßãÂèØË°åËß£ÔºåÊâÄÊúâÈ¨ÜÂºõËÆäÊï∏‰ΩúÁÇ∫Âü∫ËÆäÈáè");
            }
            
            // Ë®òÈåÑÁï∂ÂâçÊ≠•È©ü
            recordStep(description, pivotRow = -1, pivotCol = -1, details = "") {
                const tableauCopy = this.tableau.map(row => [...row]);
                const basisCopy = [...this.basis];
                
                const stepData = {
                    step: this.history.length + 1,
                    description,
                    details,
                    tableau: tableauCopy,
                    basis: basisCopy,
                    pivotRow,
                    pivotCol,
                    iteration: this.iterationCount
                };
                
                this.history.push(stepData);
                console.log(`Recorded step ${stepData.step}: ${description}`, stepData);
            }
            
            // Ê™¢Êü•ÊòØÂê¶ÈÅîÂà∞ÊúÄÂÑ™Ëß£
            isOptimal() {
                const objectiveRow = this.tableau[this.m];
                console.log('Checking optimality. Objective row:', objectiveRow);
                
                if (this.objective === 'max') {
                    // ÊúÄÂ§ßÂåñÔºöÁï∂ÁõÆÊ®ôÂáΩÊï∏Ë°å‰∏≠ÁöÑÊ±∫Á≠ñËÆäÊï∏‰øÇÊï∏ÈÉΩ >= 0 ÊôÇÊâçÊòØÊúÄÂÑ™
                    for (let j = 0; j < this.n; j++) {
                        if (objectiveRow[j] < -1e-10) {
                            console.log(`Not optimal: coefficient at column ${j} (${this.getVariableName(j)}) is ${objectiveRow[j]}`);
                            return false;
                        }
                    }
                } else {
                    // ÊúÄÂ∞èÂåñÔºöÁï∂ÁõÆÊ®ôÂáΩÊï∏Ë°å‰∏≠ÁöÑÊ±∫Á≠ñËÆäÊï∏‰øÇÊï∏ÈÉΩ <= 0 ÊôÇÊâçÊòØÊúÄÂÑ™
                    for (let j = 0; j < this.n; j++) {
                        if (objectiveRow[j] > 1e-10) {
                            console.log(`Not optimal: coefficient at column ${j} (${this.getVariableName(j)}) is ${objectiveRow[j]}`);
                            return false;
                        }
                    }
                }
                console.log('Solution is optimal - all coefficients satisfy optimality conditions');
                return true;
            }
            
            // ÈÅ∏ÊìáÈÄ≤ÂÖ•ËÆäÊï∏ (entering variable)
            getEnteringVariable() {
                const objectiveRow = this.tableau[this.m];
                let bestCol = -1;
                
                if (this.objective === 'max') {
                    // ÊúÄÂ§ßÂåñÂïèÈ°åÔºöÈÅ∏ÊìáÊúÄÂ∞èÁöÑË≤†‰øÇÊï∏ÔºàÊúÄË≤†ÁöÑÔºâ
                    let mostNegative = 0;
                    for (let j = 0; j < this.n; j++) {
                        if (objectiveRow[j] < mostNegative - 1e-10) {
                            mostNegative = objectiveRow[j];
                            bestCol = j;
                        }
                    }
                } else {
                    // ÊúÄÂ∞èÂåñÂïèÈ°åÔºöÈÅ∏ÊìáÊúÄÂ§ßÁöÑÊ≠£‰øÇÊï∏
                    let mostPositive = 0;
                    for (let j = 0; j < this.n; j++) {
                        if (objectiveRow[j] > mostPositive + 1e-10) {
                            mostPositive = objectiveRow[j];
                            bestCol = j;
                        }
                    }
                }
                
                console.log(`Best entering variable: column ${bestCol} with coefficient ${bestCol >= 0 ? objectiveRow[bestCol] : 'N/A'}`);
                return bestCol;
            }
            
            // ÈÅ∏ÊìáÈõ¢ÈñãËÆäÊï∏ (leaving variable) - ÊúÄÂ∞èÊØî‰æãÊ∏¨Ë©¶
            getLeavingVariable(enterCol) {
                let minRatio = Infinity;
                let leaveRow = -1;
                
                for (let i = 0; i < this.m; i++) {
                    const pivot = this.tableau[i][enterCol];
                    const rhs = this.tableau[i][this.n + this.m];
                    
                    if (pivot > 1e-10) { // Âè™ËÄÉÊÖÆÊ≠£ÂÄº
                        const ratio = rhs / pivot;
                        if (ratio >= -1e-10 && ratio < minRatio) { // ÂÖÅË®±Â∞èÁöÑË≤†ÂÄºË™§Â∑Æ
                            minRatio = ratio;
                            leaveRow = i;
                        }
                    }
                }
                
                console.log(`Leaving variable: row ${leaveRow} with ratio ${minRatio}`);
                return leaveRow;
            }
            
            // Ê™¢Êü•ÊòØÂê¶ÁÑ°Áïå
            checkUnbounded(enterCol) {
                for (let i = 0; i < this.m; i++) {
                    if (this.tableau[i][enterCol] > 1e-10) {
                        return false; // Â≠òÂú®Ê≠£ÁöÑ‰øÇÊï∏Ôºå‰∏çÊòØÁÑ°Áïå
                    }
                }
                return true; // ÊâÄÊúâ‰øÇÊï∏ÈÉΩ <= 0ÔºåÂïèÈ°åÁÑ°Áïå
            }
            
            // Ê®ûËª∏ÈÅãÁÆó (pivoting)
            pivot(pivotRow, pivotCol) {
                const pivotElement = this.tableau[pivotRow][pivotCol];
                
                if (Math.abs(pivotElement) < 1e-10) {
                    throw new Error("Ê®ûËª∏ÂÖÉÁ¥†ÈÅéÂ∞èÔºåÁÑ°Ê≥ïÈÄ≤Ë°åÈÅãÁÆó");
                }
                
                // Êõ¥Êñ∞Âü∫ËÆäÊï∏
                this.basis[pivotRow] = pivotCol;
                
                // Á¨¨‰∏ÄÊ≠•ÔºöÊ≠£Ë¶èÂåñÊ®ûËª∏Ë°å
                for (let j = 0; j <= this.n + this.m; j++) {
                    this.tableau[pivotRow][j] /= pivotElement;
                }
                
                // Á¨¨‰∫åÊ≠•ÔºöÊ∂àÈô§ÂÖ∂‰ªñË°åÂ∞çÊáâÂàóÁöÑ‰øÇÊï∏
                for (let i = 0; i <= this.m; i++) {
                    if (i === pivotRow) continue;
                    
                    const factor = this.tableau[i][pivotCol];
                    for (let j = 0; j <= this.n + this.m; j++) {
                        this.tableau[i][j] -= factor * this.tableau[pivotRow][j];
                    }
                }
                
                // Ê∏ÖÁêÜÊï∏ÂÄºË™§Â∑Æ
                this.cleanupNumericalErrors();
            }
            
            // Ê∏ÖÁêÜÊï∏ÂÄºË™§Â∑Æ
            cleanupNumericalErrors() {
                for (let i = 0; i <= this.m; i++) {
                    for (let j = 0; j <= this.n + this.m; j++) {
                        if (Math.abs(this.tableau[i][j]) < 1e-10) {
                            this.tableau[i][j] = 0;
                        }
                    }
                }
            }
            
            // ‰∏ªÊ±ÇËß£ÊñπÊ≥ï
            solve() {
                const maxIterations = 100;
                
                console.log('Starting solve process');
                
                while (!this.isOptimal() && this.iterationCount < maxIterations) {
                    this.iterationCount++;
                    console.log(`\n=== Iteration ${this.iterationCount} ===`);
                    
                    // ÈÅ∏ÊìáÈÄ≤ÂÖ•ËÆäÊï∏
                    const enterCol = this.getEnteringVariable();
                    if (enterCol === -1) {
                        this.recordStep("‚ùå ÁÑ°Ê≥ïÊâæÂà∞ÈÄ≤ÂÖ•ËÆäÊï∏ÔºåÁÆóÊ≥ïÁµÇÊ≠¢", -1, -1, "Ê≤íÊúâÂèØ‰ª•ÊîπÂñÑÁõÆÊ®ôÂáΩÊï∏ÁöÑËÆäÊï∏");
                        break;
                    }
                    
                    // Ê™¢Êü•ÁÑ°ÁïåÊÄß
                    if (this.checkUnbounded(enterCol)) {
                        this.isUnbounded = true;
                        const enterVar = this.getVariableName(enterCol);
                        this.recordStep(`üö´ ÂïèÈ°åÁÑ°Áïå`, -1, enterCol, 
                            `ÈÄ≤ÂÖ•ËÆäÊï∏ ${enterVar} ÁöÑÊâÄÊúâ‰øÇÊï∏ÈÉΩÈùûÊ≠£ÔºåÁõÆÊ®ôÂáΩÊï∏ÂÄºÂèØ‰ª•ÁÑ°ÈôêÂ¢ûÂ§ß`);
                        throw new Error("ÂïèÈ°åÁÑ°ÁïåÔºåÁÑ°ÊúÄÂÑ™Ëß£");
                    }
                    
                    // ÈÅ∏ÊìáÈõ¢ÈñãËÆäÊï∏
                    const leaveRow = this.getLeavingVariable(enterCol);
                    if (leaveRow === -1) {
                        this.recordStep("‚ùå ÁÑ°Ê≥ïÊâæÂà∞Èõ¢ÈñãËÆäÊï∏", -1, enterCol, "ÊúÄÂ∞èÊØî‰æãÊ∏¨Ë©¶Â§±Êïó");
                        throw new Error("ÁÆóÊ≥ïÈåØË™§ÔºöÁÑ°Ê≥ïÁ¢∫ÂÆöÈõ¢ÈñãËÆäÊï∏");
                    }
                    
                    // Ë®òÈåÑÈÅ∏ÊìáÊ≠•È©ü
                    const enterVar = this.getVariableName(enterCol);
                    const leaveVar = this.getVariableName(this.basis[leaveRow]);
                    const ratio = (this.tableau[leaveRow][this.n + this.m] / this.tableau[leaveRow][enterCol]).toFixed(3);
                    
                    this.recordStep(
                        `üîÑ Á¨¨${this.iterationCount}Ê¨°Ëø≠‰ª£ÔºöËÆäÊï∏‰∫§Êèõ`, 
                        leaveRow, 
                        enterCol,
                        `ÈÄ≤ÂÖ•ËÆäÊï∏: ${enterVar}, Èõ¢ÈñãËÆäÊï∏: ${leaveVar}, Ê®ûËª∏ÊØî‰æã: ${ratio}`
                    );
                    
                    // Âü∑Ë°åÊ®ûËª∏ÈÅãÁÆó
                    console.log('Pivot element at row', leaveRow, 'col', enterCol, '=', this.tableau[leaveRow][enterCol]);
                    this.pivot(leaveRow, enterCol);
                    
                    // Ë®òÈåÑÊ®ûËª∏ÈÅãÁÆóÂæåÁãÄÊÖã
                    this.recordStep(
                        `‚úÖ Ê®ûËª∏ÈÅãÁÆóÂÆåÊàê`, 
                        -1, -1, 
                        `Âü∫ËÆäÊï∏Êõ¥Êñ∞Ôºö${leaveVar} ‚Üí ${enterVar}`
                    );
                }
                
                if (this.iterationCount >= maxIterations) {
                    throw new Error("ÈÅîÂà∞ÊúÄÂ§ßËø≠‰ª£Ê¨°Êï∏ÔºåÁÆóÊ≥ïÂèØËÉΩÊú™Êî∂ÊñÇ");
                }
                
                if (!this.isUnbounded) {
                    // Ë®òÈåÑÊúÄÁµÇËß£
                    this.recordStep("üéâ ÈÅîÂà∞ÊúÄÂÑ™Ëß£", -1, -1, 
                        `Á∂ìÈÅé ${this.iterationCount} Ê¨°Ëø≠‰ª£ÊâæÂà∞ÊúÄÂÑ™Ëß£`);
                    
                    // Ë®àÁÆóÊúÄÁµÇËß£
                    this.computeSolution();
                }
                
                console.log(`Solve completed in ${this.iterationCount} iterations`);
                return true;
            }
            
            // Áç≤ÂèñËÆäÊï∏ÂêçÁ®±
            getVariableName(index) {
                if (index < this.n) {
                    return `x‚ÇÅ`.replace('‚ÇÅ', `‚ÇÅ`)[0] + `${index + 1}`.split('').map(d => 
                        ['‚ÇÄ','‚ÇÅ','‚ÇÇ','‚ÇÉ','‚ÇÑ','‚ÇÖ','‚ÇÜ','‚Çá','‚Çà','‚Çâ'][parseInt(d)]
                    ).join('');
                } else if (index < this.n + this.m) {
                    const slackIndex = index - this.n + 1;
                    return `s${slackIndex}`.replace(slackIndex, `${slackIndex}`.split('').map(d => 
                        ['‚ÇÄ','‚ÇÅ','‚ÇÇ','‚ÇÉ','‚ÇÑ','‚ÇÖ','‚ÇÜ','‚Çá','‚Çà','‚Çâ'][parseInt(d)]
                    ).join(''));
                } else {
                    return `unknown`;
                }
            }
            
            // Ë®àÁÆóÊúÄÁµÇËß£
            computeSolution() {
                this.solution = Array(this.n).fill(0);
                
                // ÂæûÂü∫ËÆäÊï∏‰∏≠ÊèêÂèñËß£
                for (let i = 0; i < this.m; i++) {
                    const varIndex = this.basis[i];
                    if (varIndex < this.n) {
                        this.solution[varIndex] = Math.max(0, this.tableau[i][this.n + this.m]);
                    }
                }
                
                // Ë®àÁÆóÁõÆÊ®ôÂáΩÊï∏ÂÄº
                this.optimalValue = this.tableau[this.m][this.n + this.m];
                if (this.objective === 'max') {
                    this.optimalValue = -this.optimalValue;
                }
                
                // Á¢∫‰øùÈùûË≤†
                this.optimalValue = Math.max(0, this.optimalValue);
            }
            
            // Áç≤ÂèñÁï∂ÂâçÊ≠•È©üÊï∏Êìö
            getCurrentStep() {
                if (this.currentStep >= 0 && this.currentStep < this.history.length) {
                    return this.history[this.currentStep];
                }
                return null;
            }
        }

        // DOMÂÖÉÁ¥†ÂºïÁî®
        const solveBtn = document.getElementById('solve-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const resetBtn = document.getElementById('reset-btn');
        const tableauContainer = document.getElementById('tableau-container');
        const optimalValueDisplay = document.getElementById('optimal-value');
        const solutionVariables = document.getElementById('solution-variables');
        const stepDescription = document.getElementById('step-description');
        const stepCounter = document.getElementById('step-counter');
        const progressFill = document.getElementById('progress-fill');
        
        // ÂâµÂª∫Ê±ÇËß£Âô®ÂØ¶‰æã
        const solver = new SimplexSolver();
        
        // ÈåØË™§ËôïÁêÜÂáΩÊï∏
        function showError(message) {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.innerHTML = `<strong>‚ùå ÈåØË™§Ôºö</strong>${message}`;
            
            // ÁßªÈô§ÁèæÊúâÈåØË™§Ë®äÊÅØ
            const existingError = document.querySelector('.error-message');
            if (existingError) {
                existingError.remove();
            }
            
            // Âú®Ê±ÇËß£ÊåâÈàïÂæåÊ∑ªÂä†ÈåØË™§Ë®äÊÅØ
            solveBtn.parentNode.insertBefore(errorDiv, solveBtn.nextSibling);
            
            // 5ÁßíÂæåËá™ÂãïÁßªÈô§ÈåØË™§Ë®äÊÅØ
            setTimeout(() => {
                if (errorDiv.parentNode) {
                    errorDiv.parentNode.removeChild(errorDiv);
                }
            }, 6000);
        }
        
        // È°ØÁ§∫ÊàêÂäüË®äÊÅØ
        function showSuccess(message) {
            const successDiv = document.createElement('div');
            successDiv.className = 'error-message';
            successDiv.style.background = 'linear-gradient(45deg, rgba(46, 204, 113, 0.2), rgba(39, 174, 96, 0.2))';
            successDiv.style.borderColor = 'var(--success)';
            successDiv.innerHTML = `<strong>‚úÖ ÊàêÂäüÔºö</strong>${message}`;
            
            // ÁßªÈô§ÁèæÊúâË®äÊÅØ
            const existingMessage = document.querySelector('.error-message');
            if (existingMessage) {
                existingMessage.remove();
            }
            
            solveBtn.parentNode.insertBefore(successDiv, solveBtn.nextSibling);
            
            setTimeout(() => {
                if (successDiv.parentNode) {
                    successDiv.parentNode.removeChild(successDiv);
                }
            }, 4000);
        }
        
        // Ëß£ÊûêÁ¥ÑÊùüÊ¢ù‰ª∂
        function parseConstraints(constraintsText) {
            const lines = constraintsText.split('\n').filter(line => line.trim() !== '');
            const A = [];
            const b = [];
            
            for (const line of lines) {
                const parts = line.trim().split(',');
                if (parts.length < 4) {
                    throw new Error(`Á¥ÑÊùüÊ¢ù‰ª∂Ê†ºÂºèÈåØË™§: ${line}`);
                }
                
                // Ëß£Êûê‰øÇÊï∏
                const coeffs = [];
                let i = 0;
                while (i < parts.length - 2) {
                    const coeff = parseFloat(parts[i].trim());
                    if (isNaN(coeff)) {
                        throw new Error(`ÁÑ°ÊïàÁöÑ‰øÇÊï∏: ${parts[i]}`);
                    }
                    coeffs.push(coeff);
                    i++;
                }
                
                // Ëß£ÊûêÈÅãÁÆóÁ¨¶
                const operator = parts[parts.length - 2].trim();
                if (!['<=', '=', '>='].includes(operator)) {
                    throw new Error(`‰∏çÊîØÊè¥ÁöÑÈÅãÁÆóÁ¨¶: ${operator}`);
                }
                
                // Ëß£ÊûêÂè≥Á´ØÈ†Ö
                const rhs = parseFloat(parts[parts.length - 1].trim());
                if (isNaN(rhs)) {
                    throw new Error(`ÁÑ°ÊïàÁöÑÂè≥Á´ØÈ†Ö: ${parts[parts.length - 1]}`);
                }
                
                // ÁõÆÂâçÂè™ÊîØÊè¥ <= Á¥ÑÊùü
                if (operator !== '<=') {
                    throw new Error(`ÁõÆÂâçÂè™ÊîØÊè¥ <= Á¥ÑÊùüÊ¢ù‰ª∂Ôºå‰∏çÊîØÊè¥: ${operator}`);
                }
                
                if (rhs < 0) {
                    throw new Error(`Âè≥Á´ØÈ†ÖÂøÖÈ†àÈùûË≤†: ${rhs}`);
                }
                
                A.push(coeffs);
                b.push(rhs);
            }
            
            return { A, b };
        }
        
        // Êõ¥Êñ∞ÈÄ≤Â∫¶
        function updateProgress() {
            const totalSteps = solver.history.length;
            const currentStep = solver.currentStep + 1;
            const progress = totalSteps > 0 ? (currentStep / totalSteps) * 100 : 0;
            
            stepCounter.textContent = `${currentStep} / ${totalSteps}`;
            progressFill.style.width = `${progress}%`;
        }
        
        // Ê±ÇËß£ÊåâÈàïÈªûÊìä‰∫ã‰ª∂
        solveBtn.addEventListener('click', () => {
            try {
                // ÁßªÈô§ÁèæÊúâË®äÊÅØ
                const existingMessage = document.querySelector('.error-message');
                if (existingMessage) {
                    existingMessage.remove();
                }
                
                // È°ØÁ§∫ËºâÂÖ•ÁãÄÊÖã
                solveBtn.textContent = 'üîÑ Ë®àÁÆó‰∏≠...';
                solveBtn.disabled = true;
                
                setTimeout(() => {
                    try {
                        // Áç≤ÂèñËº∏ÂÖ•ÂÄº
                        const objective = document.getElementById('objective').value;
                        const funcInput = document.getElementById('function').value.trim();
                        const constraintsInput = document.getElementById('constraints').value.trim();
                        
                        if (!funcInput || !constraintsInput) {
                            throw new Error("Ë´ãËº∏ÂÖ•ÂÆåÊï¥ÁöÑÂïèÈ°åÊï∏Êìö");
                        }
                        
                        // Ëß£ÊûêÁõÆÊ®ôÂáΩÊï∏
                        const c = funcInput.split(',').map(s => {
                            const num = parseFloat(s.trim());
                            if (isNaN(num)) {
                                throw new Error(`ÁÑ°ÊïàÁöÑÁõÆÊ®ôÂáΩÊï∏‰øÇÊï∏: ${s.trim()}`);
                            }
                            return num;
                        });
                        
                        if (c.length === 0) {
                            throw new Error("ÁõÆÊ®ôÂáΩÊï∏‰øÇÊï∏‰∏çËÉΩÁÇ∫Á©∫");
                        }
                        
                        // Ëß£ÊûêÁ¥ÑÊùüÊ¢ù‰ª∂
                        const { A, b } = parseConstraints(constraintsInput);
                        
                        // Ê™¢Êü•Á∂≠Â∫¶‰∏ÄËá¥ÊÄß
                        if (A.some(row => row.length !== c.length)) {
                            throw new Error("Á¥ÑÊùüÊ¢ù‰ª∂ÁöÑËÆäÊï∏ÂÄãÊï∏ËàáÁõÆÊ®ôÂáΩÊï∏‰∏ç‰∏ÄËá¥");
                        }
                        
                        // ÈáçÁΩÆÊ±ÇËß£Âô®‰∏¶ÂàùÂßãÂåñ
                        solver.reset();
                        solver.init(c, A, b, objective);
                        
                        // Ê±ÇËß£ÂïèÈ°å
                        solver.solve();
                        
                        // ÂïüÁî®ÊéßÂà∂ÊåâÈàï
                        prevBtn.disabled = false;
                        nextBtn.disabled = false;
                        
                        // ÈáçÁΩÆÂà∞Á¨¨‰∏ÄÊ≠•
                        solver.currentStep = 0;
                        
                        // È°ØÁ§∫ÁµêÊûú
                        displaySolution();
                        displayTableau();
                        updateControls();
                        updateProgress();
                        
                        // È°ØÁ§∫ÊàêÂäüË®äÊÅØ
                        showSuccess(`Ê±ÇËß£ÂÆåÊàêÔºÅÁ∂ìÈÅé ${solver.iterationCount} Ê¨°Ëø≠‰ª£ÊâæÂà∞ÊúÄÂÑ™Ëß£„ÄÇ`);
                        
                    } catch (error) {
                        showError(error.message);
                        console.error('Ê±ÇËß£ÈåØË™§:', error);
                    } finally {
                        // ÊÅ¢Âæ©ÊåâÈàïÁãÄÊÖã
                        solveBtn.textContent = 'üöÄ Ê±ÇËß£ÂïèÈ°å';
                        solveBtn.disabled = false;
                    }
                }, 100); // Áü≠Êö´Âª∂ÈÅ≤‰ª•È°ØÁ§∫ËºâÂÖ•ÁãÄÊÖã
                
            } catch (error) {
                showError(error.message);
                solveBtn.textContent = 'üöÄ Ê±ÇËß£ÂïèÈ°å';
                solveBtn.disabled = false;
            }
        });
        
        // ‰∏ä‰∏ÄÊ≠•ÊåâÈàï
        prevBtn.addEventListener('click', () => {
            if (solver.currentStep > 0) {
                solver.currentStep--;
                displayTableau();
                updateControls();
                updateProgress();
            }
        });
        
        // ‰∏ã‰∏ÄÊ≠•ÊåâÈàï
        nextBtn.addEventListener('click', () => {
            if (solver.currentStep < solver.history.length - 1) {
                solver.currentStep++;
                displayTableau();
                updateControls();
                updateProgress();
            }
        });
        
        // ÈáçÁΩÆÊåâÈàï
        resetBtn.addEventListener('click', () => {
            solver.reset();
            tableauContainer.innerHTML = '<p class="step-info">Ëº∏ÂÖ•ÂïèÈ°å‰∏¶ÈªûÊìä"Ê±ÇËß£"ÊåâÈàïÂæåÔºåÈÄôË£°Â∞áÈ°ØÁ§∫Ë®àÁÆóÈÅéÁ®ã„ÄÇ</p>';
            stepDescription.textContent = 'ÈªûÊìä"Ê±ÇËß£"ÊåâÈàïÈñãÂßãË®àÁÆó„ÄÇÊ±ÇËß£ÂÆåÊàêÂæåÔºå‰ΩøÁî®"‰∏ã‰∏ÄÊ≠•"ÊåâÈàïÊü•ÁúãÂñÆÂΩ¢Ê≥ïÁöÑÊØè‰∏ÄÊ≠•ÈÅãÁÆóÈÅéÁ®ã„ÄÇ';
            prevBtn.disabled = true;
            nextBtn.disabled = true;
            
            // ÈáçÁΩÆÈÄ≤Â∫¶
            stepCounter.textContent = '0 / 0';
            progressFill.style.width = '0%';
            
            // ÈáçÁΩÆËß£È°ØÁ§∫
            solutionVariables.innerHTML = `
                <div class="variable">5nmÊô∂Áâá = <span>0</span> Áâá</div>
                <div class="variable">3nmÊô∂Áâá = <span>0</span> Áâá</div>
            `;
            optimalValueDisplay.textContent = '0';
            
            // ÁßªÈô§Ë®äÊÅØ
            const existingMessage = document.querySelector('.error-message');
            if (existingMessage) {
                existingMessage.remove();
            }
        });
        
        // È°ØÁ§∫Ëß£
        function displaySolution() {
            if (solver.solution.length === 0) return;
            
            let html = '';
            for (let i = 0; i < solver.solution.length; i++) {
                const value = solver.solution[i].toFixed(0);
                const chipType = i === 0 ? '5nmÊô∂Áâá' : '3nmÊô∂Áâá';
                html += `<div class="variable">${chipType} = <span>${value}</span> Áâá</div>`;
            }
            
            solutionVariables.innerHTML = html;
            
            // Ê†ºÂºèÂåñÂà©ÊΩ§È°ØÁ§∫
            const profit = solver.optimalValue;
            const formattedProfit = Math.round(profit).toLocaleString('zh-TW');
            optimalValueDisplay.textContent = formattedProfit;
        }
        
        // È°ØÁ§∫ÂñÆÂΩ¢Ë°®
        function displayTableau() {
            const step = solver.getCurrentStep();
            if (!step) {
                tableauContainer.innerHTML = '<p class="step-info">Ê≤íÊúâÂèØÈ°ØÁ§∫ÁöÑÊ≠•È©ü</p>';
                return;
            }
            
            stepDescription.innerHTML = `
                <strong>${step.description}</strong><br>
                ${step.details ? `<em style="opacity: 0.8;">${step.details}</em>` : ''}
            `;
            
            let html = `<div class="step-info">
                <h3 class="step-title">
                    <span>üìä</span>
                    Ê≠•È©ü ${step.step}: ${step.description}
                </h3>
                ${step.details ? `<p style="margin-top: 10px; opacity: 0.9;"><em>${step.details}</em></p>` : ''}
            </div>`;
            
            html += '<table><thead><tr><th style="min-width: 80px;">Âü∫ËÆäÊï∏</th>';
            
            // Ê∑ªÂä†ÂàóÊ®ôÈ°å (Ê±∫Á≠ñËÆäÊï∏)
            for (let j = 0; j < solver.n; j++) {
                const isEntering = j === step.pivotCol;
                html += `<th style="min-width: 60px; ${isEntering ? 'background: linear-gradient(45deg, rgba(52, 152, 219, 0.5), rgba(41, 128, 185, 0.5));' : ''}">${solver.getVariableName(j)}</th>`;
            }
            
            // Ê∑ªÂä†ÂàóÊ®ôÈ°å (È¨ÜÂºõËÆäÊï∏)
            for (let j = 0; j < solver.m; j++) {
                html += `<th style="min-width: 60px;">s‚ÇÅ`.replace('‚ÇÅ', `${j + 1}`.split('').map(d => 
                    ['‚ÇÄ','‚ÇÅ','‚ÇÇ','‚ÇÉ','‚ÇÑ','‚ÇÖ','‚ÇÜ','‚Çá','‚Çà','‚Çâ'][parseInt(d)]
                ).join('')) + '</th>';
            }
            
            // Ê∑ªÂä†Ëß£ÂàóÊ®ôÈ°å
            html += '<th style="min-width: 80px;">Ëß£</th></tr></thead><tbody>';
            
            // Ê∑ªÂä†Á¥ÑÊùüË°åÊï∏Êìö
            for (let i = 0; i < solver.m; i++) {
                const isLeavingRow = i === step.pivotRow;
                html += `<tr ${isLeavingRow ? 'style="background: rgba(255, 193, 7, 0.1);"' : ''}>`;
                
                // Âü∫ËÆäÊï∏ÂêçÁ®±
                const basisVar = solver.getVariableName(step.basis[i]);
                html += `<td class="basis" style="font-weight: bold;">${basisVar}</td>`;
                
                // ÂñÆÂΩ¢Ë°®Êï∏Êìö
                for (let j = 0; j <= solver.n + solver.m; j++) {
                    let cellClass = '';
                    let cellStyle = '';
                    let cellContent = Math.abs(step.tableau[i][j]) < 1e-10 ? '0' : step.tableau[i][j].toFixed(3);
                    
                    // Ê™¢Êü•ÊòØÂê¶ÁÇ∫Ê®ûËª∏ÂÖÉÁ¥†
                    if (i === step.pivotRow && j === step.pivotCol) {
                        cellClass = 'pivot';
                        cellStyle = 'position: relative;';
                    }
                    // Ê™¢Êü•ÊòØÂê¶ÁÇ∫Âü∫ËÆäÊï∏Âàó
                    else if (j < solver.n + solver.m && j === step.basis[i]) {
                        cellClass = 'basis';
                    }
                    // Ê™¢Êü•ÊòØÂê¶ÁÇ∫ÈÄ≤ÂÖ•ËÆäÊï∏Âàó
                    else if (j === step.pivotCol && step.pivotCol >= 0) {
                        cellClass = 'entering';
                    }
                    
                    html += `<td class="${cellClass}" style="${cellStyle}">${cellContent}</td>`;
                }
                
                html += '</tr>';
            }
            
            // Ê∑ªÂä†ÁõÆÊ®ôÂáΩÊï∏Ë°å
            html += '<tr style="background: rgba(0, 0, 0, 0.2); border-top: 2px solid rgba(255, 255, 255, 0.3);">';
            html += '<td style="font-weight: bold; color: var(--warning);"><strong>z</strong></td>';
            
            for (let j = 0; j <= solver.n + solver.m; j++) {
                let cellClass = '';
                let cellStyle = 'font-weight: bold;';
                let cellContent = Math.abs(step.tableau[solver.m][j]) < 1e-10 ? '0' : step.tableau[solver.m][j].toFixed(3);
                
                // Ê™¢Êü•ÊòØÂê¶ÁÇ∫Ê®ûËª∏Âàó
                if (j === step.pivotCol && step.pivotRow >= 0) {
                    cellClass = 'entering';
                }
                
                // ÁõÆÊ®ôÂáΩÊï∏ÂÄºÁâπÂà•Ê®ôÁ§∫
                if (j === solver.n + solver.m) {
                    cellStyle += ' color: var(--warning); font-size: 1.1em;';
                }
                
                html += `<td class="${cellClass}" style="${cellStyle}">${cellContent}</td>`;
            }
            
            html += '</tr></tbody></table>';
            
            // Ê∑ªÂä†ÊØî‰æãÊ∏¨Ë©¶‰ø°ÊÅØÔºàÂ¶ÇÊûúÊúâÊ®ûËª∏Êìç‰ΩúÔºâ
            if (step.pivotRow >= 0 && step.pivotCol >= 0) {
                html += '<div style="margin-top: 20px; padding: 15px; background: rgba(155, 89, 182, 0.1); border-radius: 10px; border-left: 4px solid var(--purple);">';
                html += '<h4 style="color: var(--purple); margin-bottom: 10px;">üîç Ê®ûËª∏ÈÅ∏ÊìáË©≥ÊÉÖ</h4>';
                html += '<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">';
                
                // ÈÄ≤ÂÖ•ËÆäÊï∏ÈÅ∏Êìá
                html += '<div>';
                html += '<strong>ÈÄ≤ÂÖ•ËÆäÊï∏ÈÅ∏ÊìáÔºö</strong><br>';
                html += `ÈÅ∏Êìá ${solver.getVariableName(step.pivotCol)}ÔºåÂõ†ÁÇ∫ÂÆÉÂú®ÁõÆÊ®ôÂáΩÊï∏Ë°å‰∏≠ÂÖ∑Êúâ`;
                html += solver.objective === 'max' ? 'ÊúÄË≤†ÁöÑ‰øÇÊï∏' : 'ÊúÄÊ≠£ÁöÑ‰øÇÊï∏';
                html += `Ôºà${step.tableau[solver.m][step.pivotCol].toFixed(3)}Ôºâ`;
                html += '</div>';
                
                // Èõ¢ÈñãËÆäÊï∏ÈÅ∏Êìá
                html += '<div>';
                html += '<strong>Èõ¢ÈñãËÆäÊï∏ÈÅ∏ÊìáÔºàÊúÄÂ∞èÊØî‰æãÊ∏¨Ë©¶ÔºâÔºö</strong><br>';
                html += '<table style="font-size: 0.9em; margin-top: 5px;">';
                html += '<tr><th>Âü∫ËÆäÊï∏</th><th>Ëß£ÂÄº</th><th>‰øÇÊï∏</th><th>ÊØî‰æã</th></tr>';
                
                for (let i = 0; i < solver.m; i++) {
                    const coeff = step.tableau[i][step.pivotCol];
                    const rhs = step.tableau[i][solver.n + solver.m];
                    const ratio = coeff > 1e-10 ? (rhs / coeff).toFixed(3) : '‚àû';
                    const isLeaving = i === step.pivotRow;
                    
                    html += `<tr ${isLeaving ? 'style="background: rgba(231, 76, 60, 0.2);"' : ''}>`;
                    html += `<td>${solver.getVariableName(step.basis[i])}</td>`;
                    html += `<td>${rhs.toFixed(3)}</td>`;
                    html += `<td>${coeff.toFixed(3)}</td>`;
                    html += `<td>${ratio}${isLeaving ? ' ‚≠ê' : ''}</td>`;
                    html += '</tr>';
                }
                
                html += '</table>';
                html += '</div>';
                html += '</div>';
                html += '</div>';
            }
            
            tableauContainer.innerHTML = html;
        }
        
        // Êõ¥Êñ∞ÊéßÂà∂ÊåâÈàïÁãÄÊÖã
        function updateControls() {
            const canGoPrev = solver.currentStep > 0;
            const canGoNext = solver.currentStep < solver.history.length - 1;
            
            prevBtn.disabled = !canGoPrev;
            nextBtn.disabled = !canGoNext;
            
            // Êõ¥Êñ∞ÊåâÈàïÊñáÂ≠ó
            if (canGoNext) {
                const nextStep = solver.history[solver.currentStep + 1];
                nextBtn.innerHTML = `‰∏ã‰∏ÄÊ≠• ‚û°Ô∏è`;
            } else {
                nextBtn.innerHTML = `Â∑≤Âà∞ÊúÄÂæå üèÅ`;
            }
            
            if (canGoPrev) {
                const prevStep = solver.history[solver.currentStep - 1];
                prevBtn.innerHTML = `‚¨ÖÔ∏è ‰∏ä‰∏ÄÊ≠•`;
            } else {
                prevBtn.innerHTML = `‚¨ÖÔ∏è Á¨¨‰∏ÄÊ≠•`;
            }
        }
        
        // È†êË®≠ÁØÑ‰æãÂàáÊèõÂäüËÉΩ
        const exampleSelector = document.createElement('select');
        exampleSelector.style.cssText = `
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
        `;
        
        const examples = [
            {
                name: "Âè∞Á©çÈõªÊô∂ÁâáÁîüÁî¢ÔºàÈ†êË®≠Ôºâ",
                objective: "max",
                function: "800,1200",
                constraints: `4,6,<=,2400
2,2,<=,800
1,3,<=,900
1,0,<=,300
0,1,<=,250`
            },
            {
                name: "Á∞°ÂñÆ‰∫åËÆäÊï∏ÂïèÈ°å",
                objective: "max", 
                function: "3,2",
                constraints: `2,1,<=,100
1,1,<=,80
1,0,<=,40`
            },
            {
                name: "Ë≥áÊ∫êÂàÜÈÖçÂïèÈ°å",
                objective: "max",
                function: "40,30",
                constraints: `1,1,<=,12
2,1,<=,16
1,0,<=,8`
            }
        ];
        
        examples.forEach((example, index) => {
            const option = document.createElement('option');
            option.value = index;
            option.textContent = example.name;
            exampleSelector.appendChild(option);
        });
        
        exampleSelector.addEventListener('change', (e) => {
            const example = examples[parseInt(e.target.value)];
            document.getElementById('objective').value = example.objective;
            document.getElementById('function').value = example.function;
            document.getElementById('constraints').value = example.constraints;
        });
        
        // Â∞áÁØÑ‰æãÈÅ∏ÊìáÂô®ÊèíÂÖ•Âà∞ÂïèÈ°åËº∏ÂÖ•Èù¢ÊùøÁöÑÈñãÂßã
        const problemInput = document.querySelector('.problem-input');
        const exampleGroup = document.createElement('div');
        exampleGroup.className = 'input-group';
        exampleGroup.innerHTML = '<label for="example-selector">üìã ÈÅ∏ÊìáÁØÑ‰æãÂïèÈ°å</label>';
        exampleGroup.appendChild(exampleSelector);
        problemInput.insertBefore(exampleGroup, problemInput.firstChild);
        
        // ÈçµÁõ§Âø´Êç∑ÈçµÊîØÊè¥
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case 'Enter':
                        e.preventDefault();
                        if (!solveBtn.disabled) {
                            solveBtn.click();
                        }
                        break;
                    case 'ArrowLeft':
                        e.preventDefault();
                        if (!prevBtn.disabled) {
                            prevBtn.click();
                        }
                        break;
                    case 'ArrowRight':
                        e.preventDefault();
                        if (!nextBtn.disabled) {
                            nextBtn.click();
                        }
                        break;
                    case 'r':
                        e.preventDefault();
                        resetBtn.click();
                        break;
                }
            }
        });
        
        // Ê∑ªÂä†ÈçµÁõ§Âø´Êç∑ÈçµË™™Êòé
        const shortcutInfo = document.createElement('div');
        shortcutInfo.innerHTML = `
            <div style="margin-top: 20px; padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 10px; font-size: 0.9em; opacity: 0.8;">
                <strong>‚å®Ô∏è ÈçµÁõ§Âø´Êç∑ÈçµÔºö</strong>
                Ctrl+Enter (Ê±ÇËß£) | Ctrl+‚Üê (‰∏ä‰∏ÄÊ≠•) | Ctrl+‚Üí (‰∏ã‰∏ÄÊ≠•) | Ctrl+R (ÈáçÁΩÆ)
            </div>
        `;
        document.querySelector('.instructions').appendChild(shortcutInfo);
        
        // Ê∑ªÂä†ÂåØÂá∫ÂäüËÉΩ
        const exportBtn = document.createElement('button');
        exportBtn.textContent = 'üìä ÂåØÂá∫ÁµêÊûú';
        exportBtn.style.cssText = `
            background: linear-gradient(45deg, var(--orange), #d68910);
            margin-top: 10px;
        `;
        
        exportBtn.addEventListener('click', () => {
            if (solver.solution.length === 0) {
                showError('Ë´ãÂÖàÊ±ÇËß£ÂïèÈ°åÂÜçÂåØÂá∫ÁµêÊûú');
                return;
            }
            
            const results = {
                problem: {
                    objective: document.getElementById('objective').value,
                    coefficients: document.getElementById('function').value,
                    constraints: document.getElementById('constraints').value
                },
                solution: {
                    variables: solver.solution,
                    optimalValue: solver.optimalValue,
                    iterations: solver.iterationCount
                },
                steps: solver.history.length
            };
            
            const dataStr = JSON.stringify(results, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `Á∑öÊÄßË¶èÂäÉÊ±ÇËß£ÁµêÊûú_${new Date().toISOString().slice(0,10)}.json`;
            link.click();
            URL.revokeObjectURL(url);
            
            showSuccess('ÁµêÊûúÂ∑≤ÂåØÂá∫ÁÇ∫ JSON Ê™îÊ°à');
        });
        
        document.querySelector('.controls').appendChild(exportBtn);
        
        // ÂàùÂßãÂåñÈ†ÅÈù¢
        function initPage() {
            // ËºâÂÖ•È†êË®≠ÁØÑ‰æã
            exampleSelector.value = '0';
            exampleSelector.dispatchEvent(new Event('change'));
            
            // Êõ¥Êñ∞ÈÄ≤Â∫¶È°ØÁ§∫
            updateProgress();
            
            // È°ØÁ§∫Ê≠°ËøéË®äÊÅØ
            setTimeout(() => {
                const welcomeDiv = document.createElement('div');
                welcomeDiv.className = 'error-message';
                welcomeDiv.style.background = 'linear-gradient(45deg, rgba(52, 152, 219, 0.2), rgba(41, 128, 185, 0.2))';
                welcomeDiv.style.borderColor = 'var(--secondary)';
                welcomeDiv.style.animation = 'none';
                welcomeDiv.innerHTML = `
                    <strong>üéâ Ê≠°Ëøé‰ΩøÁî®Á∑öÊÄßË¶èÂäÉÂèØË¶ñÂåñÂ∑•ÂÖ∑ÔºÅ</strong><br>
                    <em>Â∑≤ËºâÂÖ•Âè∞Á©çÈõªÊô∂ÁâáÁîüÁî¢ÁØÑ‰æãÔºåÈªûÊìä„ÄåÊ±ÇËß£ÂïèÈ°å„ÄçÈñãÂßãÈ´îÈ©óÂñÆÂΩ¢Ê≥ïÁöÑË®àÁÆóÈÅéÁ®ã„ÄÇ</em>
                `;
                
                solveBtn.parentNode.insertBefore(welcomeDiv, solveBtn.nextSibling);
                
                setTimeout(() => {
                    if (welcomeDiv.parentNode) {
                        welcomeDiv.style.opacity = '0';
                        welcomeDiv.style.transform = 'translateY(-10px)';
                        setTimeout(() => {
                            if (welcomeDiv.parentNode) {
                                welcomeDiv.parentNode.removeChild(welcomeDiv);
                            }
                        }, 500);
                    }
                }, 4000);
            }, 1000);
        }
        
        // È†ÅÈù¢Âä†ËºâÂÆåÊàêÂæåÂàùÂßãÂåñ
        window.addEventListener('DOMContentLoaded', initPage);
        
        // Ê∑ªÂä†ÈüøÊáâÂºèË°®Ê†ºÊªæÂãïÊèêÁ§∫
        function addScrollHint() {
            const tableauContainer = document.getElementById('tableau-container');
            if (tableauContainer.scrollWidth > tableauContainer.clientWidth) {
                const hint = document.createElement('div');
                hint.style.cssText = `
                    text-align: center;
                    padding: 10px;
                    background: rgba(241, 196, 15, 0.2);
                    color: var(--warning);
                    border-radius: 5px;
                    margin-bottom: 10px;
                    font-size: 0.9em;
                `;
                hint.innerHTML = 'üëà Ë°®Ê†ºÂèØ‰ª•Â∑¶Âè≥ÊªëÂãïÊü•ÁúãÂÆåÊï¥ÂÖßÂÆπ üëâ';
                tableauContainer.insertBefore(hint, tableauContainer.firstChild);
            }
        }
        
        // Áõ£ËÅΩÁ™óÂè£Â§ßÂ∞èËÆäÂåñ
        window.addEventListener('resize', addScrollHint);
        
    </script>
</body>
</html>