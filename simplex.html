<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‰ΩúÊ•≠Á†îÁ©∂Á∑öÊÄßË¶èÂäÉÂñÆÂΩ¢Ê≥ï</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --success: #2ecc71;
            --warning: #f39c12;
            --light: #ecf0f1;
            --dark: #34495e;
            --purple: #9b59b6;
            --orange: #e67e22;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--light);
            padding: 20px;
            min-height: 100vh;
            overflow-x: auto;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 30px 20px;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #fff, #a8e6cf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: none;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            line-height: 1.6;
            max-width: 900px;
            margin: 0 auto;
        }
        
        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 1000px) {
            .content {
                grid-template-columns: 1fr;
            }
        }
        
        .panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .panel:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
        }
        
        .panel-title {
            font-size: 1.6rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary);
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .icon {
            font-size: 1.5rem;
        }
        
        .problem-input {
            display: grid;
            gap: 20px;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        label {
            font-weight: 600;
            color: var(--light);
            font-size: 1rem;
        }
        
        input, select, textarea {
            padding: 14px;
            border-radius: 12px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            background: rgba(0, 0, 0, 0.2);
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 20px rgba(52, 152, 219, 0.3);
            transform: translateY(-2px);
        }
        
        button {
            background: linear-gradient(45deg, var(--secondary), var(--purple));
            color: white;
            border: none;
            padding: 16px 24px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-top: 10px;
            position: relative;
            overflow: hidden;
        }
        
        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, Rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        button:hover::before {
            left: 100%;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        button:disabled {
            background: linear-gradient(45deg, #7f8c8d, #95a5a6);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .controls button {
            flex: 1;
        }
        
        .btn-reset {
            background: linear-gradient(45deg, var(--accent), #c0392b);
        }
        
        .btn-next {
            background: linear-gradient(45deg, var(--success), #27ae60);
        }
        
        .btn-prev {
            background: linear-gradient(45deg, var(--warning), #d68910);
        }
        
        .result-panel {
            grid-column: 1 / -1;
        }
        
        .tableau-container {
            overflow-x: auto;
            margin-top: 20px;
            border-radius: 15px;
            background: rgba(0, 0, 0, 0.1);
            padding: 15px;
        }
        
        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        th {
            background: linear-gradient(45deg, var(--dark), var(--primary));
            padding: 16px 12px;
            text-align: center;
            font-weight: 700;
            color: white;
            font-size: 0.9rem;
        }
        
        td {
            padding: 12px 10px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        tr:hover td {
            background-color: rgba(255, 255, 255, 0.05);
        }
        
        tr:last-child td {
            border-bottom: none;
        }
        
        .pivot {
            background: linear-gradient(45deg, rgba(231, 76, 60, 0.7), rgba(192, 57, 43, 0.7));
            font-weight: bold;
            position: relative;
            animation: pulse 2s infinite;
        }
        
        .pivot::after {
            content: "üéØ Ê®ûËª∏";
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--accent);
            color: white;
            font-size: 0.7rem;
            padding: 2px 6px;
            border-radius: 6px;
            white-space: nowrap;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(231, 76, 60, 0); }
            100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0); }
        }
        
        .basis {
            background: linear-gradient(45deg, rgba(46, 204, 113, 0.3), rgba(39, 174, 96, 0.3));
        }
        
        .entering {
            background: linear-gradient(45deg, rgba(52, 152, 219, 0.3), rgba(41, 128, 185, 0.3));
        }
        
        .solution-box {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }
        
        .solution-card {
            background: linear-gradient(145deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.1));
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .solution-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .solution-card h3 {
            margin-bottom: 15px;
            color: var(--light);
            font-size: 1.2rem;
        }
        
        .solution-value {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(45deg, var(--success), #2ecc71);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .variables {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-top: 15px;
        }
        
        .variable {
            background: linear-gradient(45deg, rgba(52, 152, 219, 0.3), rgba(41, 128, 185, 0.3));
            padding: 10px 18px;
            border-radius: 25px;
            font-weight: 600;
            border: 1px solid rgba(52, 152, 219, 0.5);
        }
        
        .step-info {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(145deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.1));
            border-radius: 15px;
            line-height: 1.7;
            border-left: 4px solid var(--secondary);
        }
        
        .step-title {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), var(--success));
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        .case-description {
            background: linear-gradient(145deg, rgba(52, 152, 219, 0.1), rgba(41, 128, 185, 0.1));
            border: 2px solid rgba(52, 152, 219, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            line-height: 1.7;
        }
        
        .case-description h3 {
            color: var(--secondary);
            margin-bottom: 15px;
            margin-top: 25px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .case-description h3:first-child {
            margin-top: 0;
        }
        
        .case-description ul {
            margin: 15px 0;
            padding-left: 30px;
        }
        
        .case-description li {
            margin-bottom: 10px;
        }
        
        .instructions {
            margin-top: 30px;
            padding: 30px;
            background: linear: linear-gradient(145deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.1));
            border-radius: 20px;
            line-height: 1.8;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .instructions h2 {
            margin-bottom: 20px;
            color: white;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .instructions ul {
            padding-left: 30px;
            margin-top: 15px;
        }
        
        .instructions li {
            margin-bottom: 15px;
        }
        
        .instructions code {
            background: rgba(0, 0, 0, 0.4);
            padding: 4px 8px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            color: var(--warning);
            font-weight: 600;
        }
        
        .highlight {
            color: var(--success);
            font-weight: bold;
        }
        
        .legend {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .legend-color {
            width: 24px;
            height: 24px;
            border-radius: 6px;
        }
        
        .legend-pivot {
            background: linear-gradient(45deg, rgba(231, 76, 60, 0.7), rgba(192, 57, 43, 0.7));
        }
        
        .legend-basis {
            background: linear-gradient(45deg, rgba(46, 204, 113, 0.3), rgba(39, 174, 96, 0.3));
        }
        
        .legend-entering {
            background: linear-gradient(45deg, rgba(52, 152, 219, 0.3), rgba(41, 128, 185, 0.3));
        }
        
        .error-message {
            background: linear-gradient(45deg, rgba(231, 76, 60, 0.2), rgba(192, 57, 43, 0.2));
            border: 2px solid var(--accent);
            border-radius: 12px;
            padding: 18px;
            margin: 15px 0;
            color: white;
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            line-height: 1.6;
        }
        
        .algorithm-info {
            background: linear-gradient(145deg, rgba(155, 89, 182, 0.1), rgba(142, 68, 173, 0.1));
            border: 2px solid rgba(155, 89, 182, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            line-height: 1.7;
        }
        
        .algorithm-info h3 {
            color: var(--purple);
            margin-bottom: 15px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .step-counter {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .counter {
            background: var(--secondary);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéØ ‰ΩúÊ•≠Á†îÁ©∂Á∑öÊÄßË¶èÂäÉÂñÆË°åÊ≥ï</h1>
            <p class="subtitle">
                Ê≠§Â∑•ÂÖ∑Êé°Áî®ÂñÆË°åÊ≥ï (Simplex Method) Ê±ÇËß£Á∑öÊÄßË¶èÂäÉÂïèÈ°åÔºå‰∏¶Êèê‰æõÂÆåÊï¥ÁöÑË®àÁÆóÈÅéÁ®ãÂèØË¶ñÂåñ„ÄÇ
                ÈÅ©Áî®ÊñºÁîüÁî¢Ë¶èÂäÉ„ÄÅË≥áÊ∫êÂàÜÈÖç„ÄÅÂà©ÊΩ§ÊúÄÂ§ßÂåñÁ≠âÂØ¶ÈöõÂïÜÊ•≠ÂïèÈ°åÁöÑÊ±ÇËß£ËàáÊïôÂ≠∏„ÄÇ
            </p>
        </header>
        
        <div class="content">
            <div class="panel">
                <h2 class="panel-title">
                    <span class="icon">üìä</span>
                    ÂïèÈ°åËº∏ÂÖ•
                </h2>
                <div class="problem-input">
                    <div class="input-group">
                        <label for="objective">üéØ ÁõÆÊ®ôÂáΩÊï∏È°ûÂûã</label>
                        <select id="objective">
                            <option value="max">ÊúÄÂ§ßÂåñ (Maximize)</option>
                            <option value="min">ÊúÄÂ∞èÂåñ (Minimize)</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="function">üí∞ ÁõÆÊ®ôÂáΩÊï∏‰øÇÊï∏ (Áî®ÈÄóËôüÂàÜÈöîÔºå‰æãÂ¶Ç: 800,1200)</label>
                        <input type="text" id="function" value="800,1200" placeholder="‰æãÂ¶Ç: 800,1200">
                    </div>
                    
                    <div class="input-group">
                        <label for="constraints">‚öñÔ∏è Á¥ÑÊùüÊ¢ù‰ª∂ (ÊØèË°å‰∏ÄÂÄãÁ¥ÑÊùüÔºåÊ†ºÂºè: ‰øÇÊï∏1,‰øÇÊï∏2,ÈÅãÁÆóÁ¨¶,Â∏∏Êï∏)</label>
                        <textarea id="constraints" rows="6">4,6,<=,2400
2,2,<=,800
1,3,<=,900
1,0,<=,300
0,1,<=,250</textarea>
                    </div>
                    
                    <button id="solve-btn">üöÄ Ê±ÇËß£ÂïèÈ°å</button>
                </div>
            </div>
            
            <div class="panel">
                <h2 class="panel-title">
                    <span class="icon">üéÆ</span>
                    Ë®àÁÆóÊéßÂà∂
                </h2>
                
                <div class="step-counter">
                    <span>Áï∂ÂâçÊ≠•È©üÔºö</span>
                    <span class="counter" id="step-counter">0 / 0</span>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                </div>
                
                <div class="controls">
                    <button id="prev-btn" class="btn-prev" disabled>‚¨ÖÔ∏è ‰∏ä‰∏ÄÊ≠•</button>
                    <button id="next-btn" class="btn-next" disabled>‰∏ã‰∏ÄÊ≠• ‚û°Ô∏è</button>
                    <button id="reset-btn" class="btn-reset">üîÑ ÈáçÁΩÆ</button>
                </div>
                
                <div class="step-info">
                    <h3 class="step-title">
                        <span>üìù</span>
                        Ê≠•È©üË™™Êòé
                    </h3>
                    <p id="step-description">ÈªûÊìä"Ê±ÇËß£"ÊåâÈàïÈñãÂßãË®àÁÆó„ÄÇÊ±ÇËß£ÂÆåÊàêÂæåÔºå‰ΩøÁî®"‰∏ã‰∏ÄÊ≠•"ÊåâÈàïÊü•ÁúãÂñÆÂΩ¢Ê≥ïÁöÑÊØè‰∏ÄÊ≠•ÈÅãÁÆóÈÅéÁ®ã„ÄÇ</p>
                </div>
                
                <div class="solution-box">
                    <div class="solution-card">
                        <h3>üè≠ ÊúÄÂÑ™Ëß£ (ÁîüÁî¢Êï∏Èáè)</h3>
                        <div class="variables" id="solution-variables">
                            <div class="variable">5nmÊô∂Áâá = <span id="x1">0</span> Áâá</div>
                            <div class="variable">3nmÊô∂Áâá = <span id="x2">0</span> Áâá</div>
                        </div>
                    </div>
                    
                    <div class="solution-card">
                        <h3>üí∞ ÊúÄÂ§ßÂà©ÊΩ§</h3>
                        <div class="solution-value" id="optimal-value">0</div>
                        <div style="font-size: 0.9rem; margin-top: 8px; opacity: 0.8;">Ëê¨Âè∞Âπ£</div>
                    </div>
                </div>
            </div>
            
            <div class="panel result-panel">
                <h2 class="panel-title">
                    <span class="icon">üìã</span>
                    ÂñÆÂΩ¢Ë°®Ë®àÁÆóÈÅéÁ®ã
                </h2>
                
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color legend-pivot"></div>
                        <span>Ê®ûËª∏ÂÖÉÁ¥† (Pivot Element)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color legend-basis"></div>
                        <span>Âü∫ËÆäÈáè (Basic Variables)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color legend-entering"></div>
                        <span>ÈÄ≤ÂÖ•ËÆäÈáè (Entering Variable)</span>
                    </div>
                </div>
                
                <div class="tableau-container" id="tableau-container">
                    <p class="step-info">Ëº∏ÂÖ•ÂïèÈ°å‰∏¶ÈªûÊìä"Ê±ÇËß£"ÊåâÈàïÂæåÔºåÈÄôË£°Â∞áÈ°ØÁ§∫Ë®àÁÆóÈÅéÁ®ã„ÄÇ</p>
                </div>
            </div>
        </div>
        
        <div class="case-description">
            <h3>üè¢ ÂØ¶ÈöõÊ°à‰æãÔºöÂè∞Á©çÈõªÊô∂ÁâáÁîüÁî¢Ë¶èÂäÉ</h3>
            <p>
                Êú¨Â∑•ÂÖ∑‰ª•Âè∞Á©çÈõªÊô∂ÁâáÁîüÁî¢ÁÇ∫‰æãÔºåÂ±ïÁ§∫Á∑öÊÄßË¶èÂäÉÂú®ÂØ¶ÈöõË£ΩÈÄ†Ê•≠‰∏≠ÁöÑÊáâÁî®„ÄÇ
                ÂÅáË®≠Âè∞Á©çÈõªÈúÄË¶ÅÊ±∫ÂÆö5nmÂíå3nmÊô∂ÁâáÁöÑÊúÄÂÑ™ÁîüÁî¢ÈÖçÁΩÆÔºå‰ª•ÊúÄÂ§ßÂåñÂà©ÊΩ§„ÄÇ
            </p>
            
            <h3>üìä ÂïèÈ°åË®≠ÂÆö</h3>
            <ul>
                <li><strong>Ê±∫Á≠ñËÆäÈáèÔºö</strong>x‚ÇÅ = 5nmÊô∂ÁâáÁîüÁî¢Êï∏ÈáèÔºåx‚ÇÇ = 3nmÊô∂ÁâáÁîüÁî¢Êï∏Èáè</li>
                <li><strong>ÁõÆÊ®ôÂáΩÊï∏Ôºö</strong>ÊúÄÂ§ßÂåñÂà©ÊΩ§ = 800x‚ÇÅ + 1200x‚ÇÇ (Ëê¨Âè∞Âπ£)</li>
                <li><strong>Á¥ÑÊùüÊ¢ù‰ª∂Ôºö</strong>
                    <ul>
                        <li>Ë®≠ÂÇôÊôÇÈñìÈôêÂà∂Ôºö4x‚ÇÅ + 6x‚ÇÇ ‚â§ 2400 (Â∞èÊôÇ)</li>
                        <li>ÂéüÊñôÈôêÂà∂Ôºö2x‚ÇÅ + 2x‚ÇÇ ‚â§ 800 (ÂñÆ‰Ωç)</li>
                        <li>ÊäÄË°ì‰∫∫Âì°ÈôêÂà∂Ôºöx‚ÇÅ + 3x‚ÇÇ ‚â§ 900 (‰∫∫ÊôÇ)</li>
                        <li>5nmÁî¢ËÉΩ‰∏äÈôêÔºöx‚ÇÅ ‚â§ 300 (Áâá)</li>
                        <li>3nmÁî¢ËÉΩ‰∏äÈôêÔºöx‚ÇÇ ‚â§ 250 (Áâá)</li>
                    </ul>
                </li>
            </ul>
            
            <h3>üéØ Â≠∏ÁøíÁõÆÊ®ô</h3>
            <ul>
                <li>ÁêÜËß£Á∑öÊÄßË¶èÂäÉÂïèÈ°åÁöÑÊ®ôÊ∫ñÂΩ¢ÂºèËΩâÊèõ</li>
                <liŒΩŒøŒº: ÊéåÊè°ÂñÆÂΩ¢Ê≥ïÁöÑË®àÁÆóÊ≠•È©üËàáÊ®ûËª∏ÈÅãÁÆó</li>
                <li>Â≠∏ÁøíÂ¶Ç‰ΩïËß£ËÆÄÂñÆÂΩ¢Ë°®‰∏≠ÁöÑÊï∏ÊìöÊÑèÁæ©</li>
                <li>‰∫ÜËß£Âü∫ËÆäÈáè„ÄÅÈùûÂü∫ËÆäÈáèÁöÑÊ¶ÇÂøµ</li>
                <li>ÊéåÊè°ÊúÄÂÑ™ÊÄßÊ™¢È©óËàáËß£ÁöÑÂà§ÂÆö</li>
            </ul>
        </div>
        
        <div class="algorithm-info">
            <h3>üßÆ ÂñÆÂΩ¢Ê≥ïÁÆóÊ≥ïË™™Êòé</h3>
            <p>
                ÂñÆË°åÊ≥ï (Simplex Method) ÊòØÊ±ÇËß£Á∑öÊÄßË¶èÂäÉÂïèÈ°åÊúÄÁ∂ìÂÖ∏ÁöÑÁÆóÊ≥ïÔºåÁî± George Dantzig Êñº1947Âπ¥ÊèêÂá∫„ÄÇ
                Ë©≤ÁÆóÊ≥ïÈÄöÈÅéÁ≥ªÁµ±ÊÄßÂú∞ÁßªÂãïÂà∞Áõ∏ÈÑ∞ÁöÑÂü∫ÂèØË°åËß£ÔºåÈÄêÊ≠•ÊîπÂñÑÁõÆÊ®ôÂáΩÊï∏ÂÄºÔºåÁõ¥Âà∞ÊâæÂà∞ÊúÄÂÑ™Ëß£„ÄÇ
            </p>
            <ul>
                <li><strong>Á¨¨‰∏ÄÊ≠•Ôºö</strong>Â∞áÂïèÈ°åËΩâÊèõÁÇ∫Ê®ôÊ∫ñÂΩ¢ÂºèÔºåÊ∑ªÂä†È¨ÜÂºõËÆäÊï∏</li>
                <li><strong>Á¨¨‰∫åÊ≠•Ôºö</strong>Âª∫Á´ãÂàùÂßãÂñÆÂΩ¢Ë°®ÔºåÊâæÂà∞ÂàùÂßãÂü∫ÂèØË°åËß£</li>
                <li><strong>Á¨¨‰∏âÊ≠•Ôºö</strong>Ê™¢Êü•ÊúÄÂÑ™ÊÄßÊ¢ù‰ª∂ÔºàÁõÆÊ®ôÂáΩÊï∏Ë°å‰øÇÊï∏Ôºâ</li>
                <li><strong>Á¨¨ÂõõÊ≠•Ôºö</strong>Ëã•Êú™ÈÅîÊúÄÂÑ™ÔºåÈÅ∏ÊìáÈÄ≤ÂÖ•ËÆäÊï∏ÂíåÈõ¢ÈñãËÆäÊï∏</li>
                <li><strong>Á¨¨‰∫îÊ≠•Ôºö</strong>Âü∑Ë°åÊ®ûËª∏ÈÅãÁÆóÔºåÊõ¥Êñ∞ÂñÆÂΩ¢Ë°®</li>
                <li><strong>ÈáçË§áÊ≠•È©ü3-5</strong>Áõ¥Âà∞ÈÅîÂà∞ÊúÄÂÑ™Ëß£</li>
            </ul>
        </div>
        
        <div class="instructions">
            <h2>üìñ Ë©≥Á¥∞‰ΩøÁî®Ë™™Êòé</h2>
            <ul>
                <li><span class="highlight">ÁõÆÊ®ôÂáΩÊï∏Ë®≠ÂÆö</span>ÔºöËº∏ÂÖ•ÁõÆÊ®ôÂáΩÊï∏ÁöÑ‰øÇÊï∏ÔºåÁî®ÈÄóËôüÂàÜÈöî„ÄÇ‰æãÂ¶ÇÊúÄÂ§ßÂåñÂà©ÊΩ§ z = 800x‚ÇÅ + 1200x‚ÇÇ ÊáâËº∏ÂÖ• <code>800,1200</code></li>
                <li><span class="highlight">Á¥ÑÊùüÊ¢ù‰ª∂Ê†ºÂºè</span>ÔºöÊØèË°åËº∏ÂÖ•‰∏ÄÂÄãÁ¥ÑÊùüÊ¢ù‰ª∂ÔºåÊ†ºÂºèÁÇ∫ <code>‰øÇÊï∏1,‰øÇÊï∏2,ÈÅãÁÆóÁ¨¶,Â∏∏Êï∏</code>„ÄÇ‰æãÂ¶Ç 4x‚ÇÅ + 6x‚ÇÇ ‚â§ 2400 ÊáâËº∏ÂÖ• <code>4,6,<=,2400</code></li>
                <li><span class="highlight">ÊîØÊåÅÈÅãÁÆóÁ¨¶</span>Ôºö<code>&lt;=</code> (Â∞èÊñºÁ≠âÊñº), <code>=</code> (Á≠âÊñº), <code>&gt;=</code> (Â§ßÊñºÁ≠âÊñº)</li>
                <li><span class="highlight">Ê±ÇËß£ÈÅéÁ®ã</span>ÔºöÈªûÊìä"Ê±ÇËß£"ÊåâÈàïÂæåÔºåÁ≥ªÁµ±Â∞áËá™ÂãïË®àÁÆó‰∏¶È°ØÁ§∫ÂàùÂßãÂñÆÂΩ¢Ë°®</li>
                <li><span class="highlight">ÈÄêÊ≠•ÊºîÁ§∫</span>Ôºö‰ΩøÁî®"‰∏ã‰∏ÄÊ≠•"ÊåâÈàïÊü•ÁúãÂñÆÂΩ¢Ê≥ïÁöÑÊØè‰∏ÄÊ≠•Ë®àÁÆóÈÅéÁ®ã</li>
                <li><span class="highlight">Ë¶ñË¶∫ÂåñÂÖÉÁ¥†</span>ÔºöË°®Ê†º‰∏≠‰∏çÂêåÈ°èËâ≤Ê®ôÁ§∫‰∏çÂêåÈ°ûÂûãÁöÑËÆäÊï∏ÂíåÊìç‰Ωú</li>
                <li><span class="highlight">ÈÄ≤Â∫¶ËøΩËπ§</span>ÔºöÈ†ÇÈÉ®ÈÄ≤Â∫¶Ê¢ùÈ°ØÁ§∫Áï∂ÂâçÊ±ÇËß£ÈÄ≤Â∫¶</li>
            </ul>
        </div>
        
        <footer>
            <p><strong>üéì Á∑öÊÄßË¶èÂäÉÂñÆÂΩ¢Ê≥ïÂèØË¶ñÂåñÊïôÂ≠∏Â∑•ÂÖ∑</strong></p>
            <p>
                Êú¨Â∑•ÂÖ∑Â∞àÁÇ∫Á∑öÊÄßË¶èÂäÉÊïôÂ≠∏Ë®≠Ë®àÔºåÂπ´Âä©Â≠∏ÁîüÁêÜËß£ÂñÆÂΩ¢Ê≥ïÁöÑË®àÁÆóÂéüÁêÜÂíåÂØ¶ÈöõÊáâÁî®„ÄÇ
                ÈÅ©Áî®ÊñºÈÅãÁ±åÂ≠∏„ÄÅÁÆ°ÁêÜÁßëÂ≠∏„ÄÅÂ∑•Ê•≠Â∑•Á®ãÁ≠âÁõ∏ÈóúË™≤Á®ãÁöÑÊïôÂ≠∏ËàáËá™Â≠∏„ÄÇ
            </p>
            <p style="margin-top: 15px;">
                <em>üí° ÊèêÁ§∫ÔºöÂª∫Ë≠∞ÈÖçÂêàÊïôÁßëÊõ∏ÂÖßÂÆπ‰ΩøÁî®ÔºåÊ∑±ÂÖ•ÁêÜËß£</em>
            </p>
        </footer>
    </div>

    <script>
        // ÂÑ≤Â≠òÂñÆÂΩ¢Ê≥ïËø≠‰ª£Ê≠∑Âè≤
        let tableauHistory = [];
        let currentStep = 0;
        let basisVariables = [];

        // ÂàùÂßãÂåñÊåâÈàï‰∫ã‰ª∂
        document.getElementById('solve-btn').addEventListener('click', solveProblem);
        document.getElementById('next-btn').addEventListener('click', showNextStep);
        document.getElementById('prev-btn').addEventListener('click', showPreviousStep);
        document.getElementById('reset-btn').addEventListener('click', reset);

        function solveProblem() {
            // ÈáçÁΩÆÁãÄÊÖã
            tableauHistory = [];
            currentStep = 0;
            basisVariables = [];

            // Ëß£ÊûêËº∏ÂÖ•
            const objectiveType = document.getElementById('objective').value;
            const objectiveInput = document.getElementById('function').value;
            const constraintsInput = document.getElementById('constraints').value;

            // È©óË≠âÁõÆÊ®ôÂáΩÊï∏
            const objectiveCoefficients = objectiveInput.split(',')
                .map(x => parseFloat(x.trim()))
                .filter(x => !isNaN(x));
            if (objectiveCoefficients.length < 1) {
                displayError('Ë´ãËº∏ÂÖ•ÊúâÊïàÁöÑÁõÆÊ®ôÂáΩÊï∏‰øÇÊï∏Ôºà‰æãÂ¶ÇÔºö800,1200Ôºâ„ÄÇ');
                return;
            }

            // Ëß£ÊûêÁ¥ÑÊùüÊ¢ù‰ª∂
            const constraints = constraintsInput.split('\n')
                .map(line => line.trim())
                .filter(line => line !== '')
                .map(line => {
                    const parts = line.split(',');
                    if (parts.length < 3) return null;
                    const coefficients = parts.slice(0, -2)
                        .map(x => parseFloat(x.trim()))
                        .filter(x => !isNaN(x));
                    const operator = parts[parts.length - 2].trim();
                    const rhs = parseFloat(parts[parts.length - 1]);
                    if (coefficients.length !== objectiveCoefficients.length || !['<=', '=', '>='].includes(operator) || isNaN(rhs)) {
                        return null;
                    }
                    return { coefficients, operator, rhs };
                })
                .filter(c => c !== null);

            if (constraints.length === 0) {
                displayError('Ë´ãËº∏ÂÖ•Ëá≥Â∞ë‰∏ÄÂÄãÊúâÊïàÁöÑÁ¥ÑÊùüÊ¢ù‰ª∂ÔºàÊ†ºÂºèÔºö‰øÇÊï∏1,‰øÇÊï∏2,ÈÅãÁÆóÁ¨¶,Â∏∏Êï∏Ôºâ„ÄÇ');
                return;
            }

            // ÂàùÂßãÂåñÂñÆÂΩ¢Ë°®
            try {
                const tableau = initializeTableau(objectiveCoefficients, constraints, objectiveType);
                tableauHistory.push({
                    tableau: JSON.parse(JSON.stringify(tableau.tableau)),
                    basis: [...tableau.basis],
                    description: 'ÂàùÂßãÂñÆÂΩ¢Ë°®Â∑≤Âª∫Á´ãÔºåÊ∫ñÂÇôÈÄ≤Ë°åÊúÄÂÑ™ÊÄßÊ™¢Êü•„ÄÇ'
                });

                // Âü∑Ë°åÂñÆÂΩ¢Ê≥ï
                runSimplex(tableau, objectiveType);

                // È°ØÁ§∫Á¨¨‰∏ÄÊ≠•
                currentStep = 0;
                updateUI();
                document.getElementById('next-btn').disabled = tableauHistory.length <= 1;
                document.getElementById('prev-btn').disabled = true;
            } catch (e) {
                displayError(`ÈåØË™§Ôºö${e.message}`);
            }
        }

        function initializeTableau(objective, constraints, type) {
            const numVars = objective.length;
            const numConstraints = constraints.length;
            const tableau = [];
            const basis = [];

            // Ê∑ªÂä†Á¥ÑÊùüÊ¢ù‰ª∂Ë°å
            constraints.forEach((constraint, i) => {
                const row = [...constraint.coefficients];
                // Ê∑ªÂä†È¨ÜÂºõ/Ââ©È§òËÆäÈáè
                for (let j = 0; j < numConstraints; j++) {
                    if (constraint.operator === '<=') {
                        row[numVars + j] = i === j ? 1 : 0; // È¨ÜÂºõËÆäÈáè
                    } else if (constraint.operator === '>=') {
                        row[numVars + j] = i === j ? -1 : 0; // Ââ©È§òËÆäÈáè
                        row[numVars + numConstraints + i] = i === j ? 1 : 0; // ‰∫∫Â∑•ËÆäÈáèÔºàÂæåÁ∫åÂØ¶ÁèæÔºâ
                    } else {
                        row[numVars + j] = i === j ? 1 : 0; // Á≠âÂºèÁ¥ÑÊùüË¶ñÁÇ∫È¨ÜÂºõ
                    }
                }
                row.push(constraint.rhs);
                tableau.push(row);
                basis.push(numVars + i); // ÂàùÂßãÂü∫ËÆäÈáèÁÇ∫È¨ÜÂºõËÆäÈáè
            });

            // Ê∑ªÂä†ÁõÆÊ®ôÂáΩÊï∏Ë°å
            const objRow = objective.map(x => (type === 'max' ? -x : x));
            for (let i = 0; i < numConstraints; i++) {
                objRow[numVars + i] = 0;
                if (constraints[i].operator === '>=') {
                    objRow[numVars + numConstraints + i] = 0; // ‰∫∫Â∑•ËÆäÈáèÔºàÂæåÁ∫åÂØ¶ÁèæÔºâ
                }
            }
            objRow.push(0);
            tableau.push(objRow);

            return { tableau, basis };
        }

        function runSimplex(tableauObj, objectiveType) {
            let { tableau, basis } = tableauObj;
            let iteration = 0;
            const maxIterations = 100; // Èò≤Ê≠¢ÁÑ°ÈôêËø¥Âúà

            while (iteration < maxIterations) {
                // Ê™¢Êü•ÊúÄÂÑ™ÊÄß
                const objRow = tableau[tableau.length - 1];
                const pivotCol = objectiveType === 'max'
                    ? objRow.slice(0, -1).reduce((minIdx, val, idx) => val < objRow[minIdx] ? idx : minIdx, 0)
                    : objRow.slice(0, -1).reduce((maxIdx, val, idx) => val > objRow[maxIdx] ? idx : maxIdx, 0);

                if ((objectiveType === 'max' && objRow[pivotCol] >= 0) || (objectiveType === 'min' && objRow[pivotCol] <= 0)) {
                    tableauHistory.push({
                        tableau: JSON.parse(JSON.stringify(tableau)),
                        basis: [...basis],
                        description: 'Â∑≤ÈÅîÂà∞ÊúÄÂÑ™Ëß£ÔºåË®àÁÆóÂÆåÊàê„ÄÇ'
                    });
                    break;
                }

                // ÊúÄÂ∞èÊØîÁéáÊ∏¨Ë©¶
                let minRatio = Infinity;
                let pivotRow = -1;
                for (let i = 0; i < tableau.length - 1; i++) {
                    if (tableau[i][pivotCol] > 0) {
                        const ratio = tableau[i][tableau[0].length - 1] / tableau[i][pivotCol];
                        if (ratio < minRatio && ratio >= 0) {
                            minRatio = ratio;
                            pivotRow = i;
                        }
                    }
                }

                if (pivotRow === -1) {
                    throw new Error('ÂïèÈ°åÁÑ°ÁïåÔºåÁÑ°Ê≥ïÊâæÂà∞ÊúâÈôêÁöÑÊúÄÂÑ™Ëß£„ÄÇ');
                }

                // Âü∑Ë°åÊ®ûËª∏ÈÅãÁÆó
                const pivotValue = tableau[pivotRow][pivotCol];
                for (let j = 0; j < tableau[0].length; j++) {
                    tableau[pivotRow][j] /= pivotValue;
                }

                for (let i = 0; i < tableau.length; i++) {
                    if (i !== pivotRow) {
                        const factor = tableau[i][pivotCol];
                        for (let j = 0; j < tableau[0].length; j++) {
                            tableau[i][j] -= factor * tableau[pivotRow][j];
                        }
                    }
                }

                // Êõ¥Êñ∞Âü∫ËÆäÈáè
                basis[pivotRow] = pivotCol;

                // Ë®òÈåÑÊ≠•È©ü
                tableauHistory.push({
                    tableau: JSON.parse(JSON.stringify(tableau)),
                    basis: [...basis],
                    description: `Ëø≠‰ª£ ${iteration + 1}ÔºöÈÅ∏ÊìáÈÄ≤ÂÖ•ËÆäÈáè x${pivotCol + 1}ÔºåÈõ¢ÈñãËÆäÈáè x${basis[pivotRow] + 1}ÔºåÊ®ûËª∏ÂÖÉÁ¥†‰ΩçÊñºÁ¨¨ ${pivotRow + 1} Ë°åÔºåÁ¨¨ ${pivotCol + 1} Âàó„ÄÇ`
                });

                iteration++;
            }

            if (iteration >= maxIterations) {
                throw new Error('Ëø≠‰ª£Ê¨°Êï∏ÈÅéÂ§öÔºåÂèØËÉΩÂ≠òÂú®ÈÄÄÂåñÊàñÁÑ°Ëß£ÂïèÈ°å„ÄÇ');
            }
        }

        function updateUI() {
            const step = tableauHistory[currentStep];
            if (!step) return;

            // Êõ¥Êñ∞ÂñÆÂΩ¢Ë°®
            renderTableau(step.tableau, step.basis);

            // Êõ¥Êñ∞Ê≠•È©üË™™Êòé
            document.getElementById('step-description').textContent = step.description;

            // Êõ¥Êñ∞Ê≠•È©üË®àÊï∏Âô®ÂíåÈÄ≤Â∫¶Ê¢ù
            document.getElementById('step-counter').textContent = `${currentStep + 1} / ${tableauHistory.length}`;
            const progress = (currentStep / (tableauHistory.length - 1)) * 100;
            document.getElementById('progress-fill').style.width = `${progress}%`;

            // Êõ¥Êñ∞ÊåâÈàïÁãÄÊÖã
            document.getElementById('next-btn').disabled = currentStep >= tableauHistory.length - 1;
            document.getElementById('prev-btn').disabled = currentStep <= 0;

            // Êõ¥Êñ∞Ëß£Ê±∫ÊñπÊ°à
            if (currentStep === tableauHistory.length - 1) {
                const solution = extractSolution(step.tableau, step.basis);
                document.getElementById('solution-variables').innerHTML = solution.variables
                    .map((val, i) => `<div class="variable">x${i + 1} = <span id="x${i + 1}">${val.toFixed(2)}</span> Áâá</div>`)
                    .join('');
                document.getElementById('optimal-value').textContent = solution.optimalValue.toFixed(2);
            } else {
                document.getElementById('solution-variables').innerHTML = '<div class="variable">Â∞öÊú™ÈÅîÂà∞ÊúÄÂÑ™Ëß£</div>';
                document.getElementById('optimal-value').textContent = '0';
            }
        }

        function renderTableau(tableau, basis) {
            const container = document.getElementById('tableau-container');
            const numVars = tableau[0].length - 1 - (tableau.length - 1); // ÂéüËÆäÈáèÊï∏
            const numSlack = tableau.length - 1; // È¨ÜÂºõËÆäÈáèÊï∏
            let html = '<table><thead><tr>';
            
            // ÁîüÊàêË°®È†≠
            for (let i = 0; i < numVars; i++) {
                html += `<th>x${i + 1}</th>`;
            }
            for (let i = 0; i < numSlack; i++) {
                html += `<th>s${i + 1}</th>`;
            }
            html += '<th>RHS</th></tr></thead><tbody>';

            // ÁîüÊàêË°®Ê†ºÂÖßÂÆπ
            tableau.forEach((row, rowIndex) => {
                html += '<tr>';
                row.forEach((cell, colIndex) => {
                    let cellClass = '';
                    if (rowIndex < tableau.length - 1 && basis[rowIndex] === colIndex) {
                        cellClass = 'basis';
                    }
                    if (rowIndex === tableau.length - 1 && colIndex < row.length - 1 && 
                        ((document.getElementById('objective').value === 'max' && cell < 0) || 
                         (document.getElementById('objective').value === 'min' && cell > 0))) {
                        cellClass = 'entering';
                    }
                    if (rowIndex === tableauHistory[currentStep].pivotRow && colIndex === tableauHistory[currentStep].pivotCol) {
                        cellClass = 'pivot';
                    }
                    html += `<td class="${cellClass}">${cell.toFixed(2)}</td>`;
                });
                html += '</tr>';
            });

            html += '</tbody></table>';
            container.innerHTML = html;
        }

        function extractSolution(tableau, basis) {
            const numVars = tableau[0].length - 1 - (tableau.length - 1);
            const variables = Array(numVars).fill(0);
            basis.forEach((varIdx, rowIdx) => {
                if (varIdx < numVars) {
                    variables[varIdx] = tableau[rowIdx][tableau[0].length - 1];
                }
            });
            const optimalValue = document.getElementById('objective').value === 'max' 
                ? tableau[tableau.length - 1][tableau[0].length - 1]
                : -tableau[tableau.length - 1][tableau[0].length - 1];
            return { variables, optimalValue };
        }

        function showNextStep() {
            if (currentStep < tableauHistory.length - 1) {
                currentStep++;
                updateUI();
            }
        }

        function showPreviousStep() {
            if (currentStep > 0) {
                currentStep--;
                updateUI();
            }
        }

        function reset() {
            tableauHistory = [];
            currentStep = 0;
            document.getElementById('tableau-container').innerHTML = '<p class="step-info">Ëº∏ÂÖ•ÂïèÈ°å‰∏¶ÈªûÊìä"Ê±ÇËß£"ÊåâÈàïÂæåÔºåÈÄôË£°Â∞áÈ°ØÁ§∫Ë®àÁÆóÈÅéÁ®ã„ÄÇ</p>';
            document.getElementById('step-description').textContent = 'ÈªûÊìä"Ê±ÇËß£"ÊåâÈàïÈñãÂßãË®àÁÆó„ÄÇÊ±ÇËß£ÂÆåÊàêÂæåÔºå‰ΩøÁî®"‰∏ã‰∏ÄÊ≠•"ÊåâÈàïÊü•ÁúãÂñÆÂΩ¢Ê≥ïÁöÑÊØè‰∏ÄÊ≠•ÈÅãÁÆóÈÅéÁ®ã„ÄÇ';
            document.getElementById('step-counter').textContent = '0 / 0';
            document.getElementById('progress-fill').style.width = '0%';
            document.getElementById('next-btn').disabled = true;
            document.getElementById('prev-btn').disabled = true;
            document.getElementById('solution-variables').innerHTML = `
                <div class="variable">5nmÊô∂Áâá = <span id="x1">0</span> Áâá</div>
                <div class="variable">3nmÊô∂Áâá = <span id="x2">0</span> Áâá</div>`;
            document.getElementById('optimal-value').textContent = '0';
        }

        function displayError(message) {
            const container = document.getElementById('tableau-container');
            container.innerHTML = `<div class="error-message">${message}</div>`;
            document.getElementById('next-btn').disabled = true;
            document.getElementById('prev-btn').disabled = true;
        }
    </script>
</body>
</html>
